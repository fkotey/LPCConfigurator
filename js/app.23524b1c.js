(function(e){function t(t){for(var r,o,n=t[0],l=t[1],p=t[2],c=0,u=[];c<n.length;c++)o=n[c],s[o]&&u.push(s[o][0]),s[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);m&&m(t);while(u.length)u.shift()();return i.push.apply(i,p||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,n=1;n<a.length;n++){var l=a[n];0!==s[l]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},s={app:0},i=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/LPCConfigurator/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var p=0;p<n.length;p++)t(n[p]);var m=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var r=a("64a9"),s=a.n(r);s.a},1:function(e,t){},2:function(e,t){},"225b":function(e,t,a){"use strict";var r=a("4acd"),s=a.n(r);s.a},2485:function(e,t,a){"use strict";var r=a("5d62"),s=a.n(r);s.a},"3f5e":function(e,t,a){},4397:function(e,t,a){},"4acd":function(e,t,a){},"4c71":function(e,t,a){"use strict";var r=a("3f5e"),s=a.n(r);s.a},"56d7":function(e,t,a){"use strict";a.r(t);a("db4d"),a("54ba");var r=a("2b0e"),s=a("9f7b"),i=a.n(s),o=(a("f9e3"),a("2dd8"),a("ecee")),n=a("c074"),l=a("ad3d");o["c"].add(n["a"],n["e"],n["d"],n["c"],n["f"],n["b"]),r["default"].component("font-awesome-icon",l["a"]);var p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("b-navbar",{staticClass:"mb-4",attrs:{toggleable:"md",variant:"light"}},[a("b-container",[a("b-navbar-nav",[a("b-nav-item",{attrs:{to:"Start",active:"/Start"===e.$route.path}},[e._v("Start")]),a("b-nav-item",{attrs:{to:"General",active:"/General"===e.$route.path}},[e._v("General")]),a("b-nav-item",{attrs:{to:"Motors",active:"/Motors"===e.$route.path}},[e._v("Motors")]),a("b-nav-item",{attrs:{to:"Endstops",active:"/Endstops"===e.$route.path}},[e._v("Endstops")]),a("b-nav-item",{attrs:{to:"Heaters",active:"/Heaters"===e.$route.path}},[e._v("Heaters")]),a("b-nav-item",{attrs:{to:"Tools",active:"/Tools"===e.$route.path}},[e._v("Tools")]),a("b-nav-item",{attrs:{to:"Compensation",active:"/Compensation"===e.$route.path}},[e._v("Compensation")]),a("b-nav-item",{attrs:{to:"Network",active:"/Network"===e.$route.path}},[e._v("Network")]),a("b-nav-item",{attrs:{to:"Finish",active:"/Finish"===e.$route.path}},[e._v("Finish")])],1),a("b-navbar-brand",{staticClass:"text-muted",attrs:{href:"#"}},[e._v("RepRapFirmware Configuration Tool")])],1)],1),a("b-form",{ref:"mainForm"},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1),a("b-container",{staticClass:"mt-4"},[a("ul",{staticClass:"pagination float-left"},[a("li",{staticClass:"page-item",class:{disabled:e.isFirstPage}},[a("b-link",{staticClass:"page-link",attrs:{href:"#"},on:{click:e.goToPreviousPage}},[e._v("« Back")])],1)]),a("ul",{staticClass:"pagination float-right"},[a("li",{staticClass:"page-item"},[a("b-link",{staticClass:"page-link",attrs:{href:"#"},on:{click:e.goToNextPage}},[e._v(e._s(e.isLastPage?"Finish":"Next")+" »")])],1)])]),a("b-modal",{ref:"errorModal",attrs:{"ok-only":!0,title:"Invalid input"},on:{hidden:e.highlightErrors}},[a("h4",[e._v("This page still contains errors.")]),a("h5",[e._v("Please fix them before you continue.")])]),a("b-modal",{ref:"finishModal",attrs:{size:"lg",title:"Configuration Ready"},on:{show:e.finishShow}},[a("p",[e._v("The following files will be generated:")]),a("b-card",{ref:"finishFiles",staticClass:"mb-3",attrs:{"bg-variant":"light"}},[0==e.files.length?a("span",{domProps:{innerHTML:e._s(e.message)}}):a("ul",{staticClass:"mb-0"},e._l(e.files,function(t){return a("li",[a("b-link",{domProps:{textContent:e._s(t)},on:{click:function(a){return e.showFile(t)}}})],1)}),0)]),a("h4",[e._v("Step 1")]),a("p",[e._v("If you are already using Duet Web Control, you can upload the generated ZIP file "),a("u",[e._v("without extracting")]),e._v(" on the Settings page.")]),a("p",[e._v('Alternatively you can unzip the contents of this file to the "sys" directory on your SD card.')]),a("p",[e._v("See "),a("a",{attrs:{href:"https://duet3d.com/wiki/SD_card_folder_structure",target:"_blank"}},[e._v("this page")]),e._v(" for further information about the purpose of these files.")]),e.template.lpc.lcdEnabled?a("h4",[e._v("Step 2")]):e._e(),e.template.lpc.lcdEnabled?a("p",[e._v("LCD requires menu files to be installed in /menu on the SD Card. See "),a("a",{attrs:{href:"https://duet3d.dozuki.com/Wiki/Duet_2_Maestro_12864_display_menu_system",target:"_blank"}},[e._v("this page")]),e._v(" for further information")]):e._e(),!e.template.lpc.lcdEnabled&&e.template.network.enabled?a("h4",[e._v("Step 2")]):a("h4",[e._v("Step 3")]),e.template.network.enabled?a("p",[e._v("Networking requires DWC files to be installed in /www on the SD Card.")]):e._e(),a("template",{slot:"modal-footer"},[a("a",{staticClass:"btn btn-secondary",attrs:{href:e.configLink,download:"config.json"}},[a("font-awesome-icon",{attrs:{icon:"save"}}),e._v(" Download JSON template")],1),a("b-button",{attrs:{variant:"primary",disabled:e.generatingZIP},on:{click:e.generateZIP}},[a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:!e.generatingZIP,expression:"!generatingZIP"}],attrs:{icon:"download"}}),e._v(" "+e._s(e.generatingZIP?"Generating ZIP bundle...":"Download configuration bundle as ZIP file"))],1)],1)],2)],1)},m=[],c=a("bc3a"),u=a.n(c),d=a("d491"),h=a("7c39"),b=a.n(h),v={alignComments(e){let t=e.split("\n"),a=0;t.forEach(function(e){var t=e.indexOf(";");1==t&&(t=e.substr(1).indexOf(";")-1),t>a&&(a=t)});let r="";return t.forEach(function(e){let t=e.indexOf(";"),s=0==t;if(s&&(e=e.substr(1),t=e.indexOf(";")),-1==t)r+=(s?";":"")+e+"\n";else{let i=(s?";":"")+e.substr(0,t-1),o=e.substr(t);for(let e=i.length;e<a;e++)i+=" ";r+=i+o+"\n"}}),r},async compileFile(e,t){let a=await u.a.get(e,{responseType:"text"});return a=Object(d["render"])(a.data,t),a},async compileTemplate(e,t,a){let r={template:t,board:a,util:this.util(t)},s="templates/"+e.replace(".g",".ejs");if(e.startsWith("tfree"))s="templates/tfree.ejs",r.index=parseInt(e.match("tfree(\\d+).g")[1]);else if(e.startsWith("tpre"))s="templates/tpre.ejs",r.index=parseInt(e.match("tpre(\\d+).g")[1]);else if(e.startsWith("tpost"))s="templates/tpost.ejs",r.index=parseInt(e.match("tpost(\\d+).g")[1]);else if(e.startsWith("board")){s="templates/board.ejs";const e=await this.compileFile(s,r);return e}const i=await this.compileFile(s,r);return this.alignComments(i)},async compileZIP(e,t,a){let r=new b.a;r.file("sys/config.json",JSON.stringify(t));for(let i=0;i<e.length;i++)try{const o=await this.compileTemplate(e[i],t,a);r.file("sys/"+e[i],o)}catch(s){throw`Failed to create ${e[i]}: ${s}`}return await r.generateAsync({type:"blob"})},canDownloadFiles:b.a.support.blob,util(e){return{getFirmwareString(){switch(e.firmware){case 1.16:return"1.16 or older";case 1.17:return"1.17 to 1.19";case 1.2:return"1.20 or newer"}return e.firmware.toString()},makeDriveString(t,a){let r="X"+(e.drives[0][t]*a).toFixed(2);r+=" Y"+(e.drives[1][t]*a).toFixed(2),r+=" Z"+(e.drives[2][t]*a).toFixed(2);for(let s=3;s<e.drives.length;s++)r+=3==s?" E"+(e.drives[s][t]*a).toFixed(2):":"+(e.drives[s][t]*a).toFixed(2);return r},getFirstProbePoint(t){return 0==e.probe.points?0==t?e.mesh.x_min:e.mesh.y_min:0==t?e.probe.points[0].x:e.probe.points[0].y},makePlainArrayString(e){let t="";for(var a=0;a<e.length;a++)t+=e[a],a!=e.length-1&&(t+=", ");return t},lookupNameForPin(e,t){for(var a=0;a<t.length;a++)if(t[a].value==e)return t[a].text;return e}}}},f=a("21a6"),_=a.n(f),g={data(){return{isFirstPage:this.checkFirstPage(),isLastPage:this.checkLastPage(),configLink:"#",files:[],generatingZIP:!1,message:"Loading..."}},methods:{checkFirstPage(){return"/Start"==this.$route.path},checkLastPage(){return"/Finish"==this.$route.path},goToPreviousPage(e){const t=this.$router.options.routes.findIndex(e=>e.path===this.$route.path);if(t>0){const e=this.$router.options.routes[t-1];this.$router.push(e)}e.preventDefault()},goToNextPage(e){const t=this.$router.options.routes.findIndex(e=>e.path===this.$route.path);if(t+2<this.$router.options.routes.length){const e=this.$router.options.routes[t+1];this.$router.push(e)}else this.$refs.mainForm.checkValidity()&&null==this.$refs.mainForm.querySelector(".is-invalid")?this.$refs.finishModal.show():this.$refs.errorModal.show();e.preventDefault()},highlightErrors(){this.$refs.mainForm.reportValidity()},async finishShow(){this.message="Loading...",this.files=[],this.configLink="data:text/plain;charset=utf-8,"+encodeURIComponent(JSON.stringify(this.template));try{const t=await v.compileFile("templates/files.ejs",{template:this.template});this.files=t.trim().split("\n")}catch(e){this.message="Failed to load template from server:<br/><br/>"+e}},async generateZIP(){this.generatingZIP=!0;try{const t=await v.compileZIP(this.files,this.template,this.board);v.canDownloadFiles?_()(t,"config.zip"):alert("Error: This browser does not support blobs! Save your configuration template and try another one.")}catch(e){alert(`Failed to generate ZIP bundle:\n\n${e}`)}this.generatingZIP=!1},async showFile(e){try{const a=await v.compileTemplate(e,this.template,this.board);let r=window.open("about:blank","_blank");null==r?alert("Could not open a new tab!\n\nPlease allow pop-ups for this page and try again."):(r.document.write(a.replace(/\n/g,"<br/>").replace(/ /g,"&nbsp;")),r.document.body.style="font-family: monospace;",r.document.title=e,r.document.close())}catch(t){alert(`Failed to generate file ${e}:\n\n${t}`)}}},mounted(){const e=this.$refs.mainForm,t=this.$refs.errorModal;this.$router.beforeEach((a,r,s)=>{e.checkValidity()&&null==e.querySelector(".is-invalid")?s():(t.show(),s(!1))})},watch:{$route(e,t){this.isFirstPage="/Start"==e.path,this.isLastPage="/Finish"==e.path}}},x=g,y=(a("034f"),a("2877")),w=Object(y["a"])(x,p,m,!1,null,null,null),P=w.exports,C=a("5935"),k=a("8c4f"),S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",[a("div",{staticClass:"text-center"},[a("h2",{staticClass:"mb-4"},[e._v("Welcome to the RepRapFirmware Configuration Tool for LPC Based Boards")]),a("h4",{staticClass:"text-muted mb-5"},[e._v("Please follow this wizard to obtain an individual configuration bundle for your printer")])]),a("b-card",{staticClass:"mb-3",attrs:{"bg-variant":"light"}},[a("p",[e._v("You can create your own individual configuration by creating a new one from scratch or by loading an existing JSON template:")]),a("b-form-radio-group",{attrs:{name:"machine",stacked:""},on:{change:e.setMachine},model:{value:e.machine,callback:function(t){e.machine=t},expression:"machine"}},[a("b-form-radio",{attrs:{value:"custom"}},[e._v("Custom configuration")]),a("b-form-radio",{attrs:{value:"existing"}},[e._v("Use existing configuration")])],1)],1),a("input",{ref:"inputJsonFile",attrs:{type:"file",accept:"application/json",hidden:""},on:{change:e.fileSelected}}),a("div",{staticClass:"text-center"},[a("br"),a("span",{staticClass:"text-muted"},[e._v("Some configuration options may not be available yet. In this case please refer to the "),a("a",{attrs:{href:"https://duet3d.dozuki.com",target:"_blank"}},[e._v("Duet3D wiki")]),e._v(".")]),a("br"),a("br"),a("span",{staticClass:"text-muted"},[e._v("(Originally forked from the "),a("a",{attrs:{href:"https://github.com/chrishamm/configtool",target:"_blank"}},[e._v("RepRapFirmware Configuration Tool by chrishamm")]),e._v(")")]),a("br"),a("br"),a("span",{staticClass:"text-muted"},[e._v("This web app is fully open-source and licensed under the terms of the "),a("a",{attrs:{href:"https://www.gnu.org/licenses/gpl-3.0.html",target:"_blank"}},[e._v("GPLv3")]),e._v(".")])])],1)},N=[];const D={LEDs:[{text:"LED1",value:1.18},{text:"LED2",value:1.19},{text:"LED3",value:1.2},{text:"LED4",value:1.21}],endstops:[{text:"XMin",value:1.24},{text:"YMin",value:1.26},{text:"ZMin",value:1.28},{text:"XMax",value:1.25},{text:"YMax",value:1.27},{text:"ZMax",value:1.29}],thermistors:[{text:"T1",value:.23},{text:"T2",value:.24},{text:"T3",value:.25},{text:"T4",value:.26}],mosfets:[{text:"Q5",value:1.23},{text:"Q6",value:2.5},{text:"Q7",value:2.7},{text:"Q4",value:1.22},{text:"Q8",value:2.4},{text:"Q9",value:2.6}],servoPins:[],hasDriverCurrentControl:!0,hasBuiltinDrivers:!0,hasMinMaxEndstops:!0},T={boardName:"smoothieboard",heatOnPins:[2.5,2.7,1.23],endstopPins:[1.24,1.26,1.28],fanPins:[2.4,2.6],tempSensePins:[.24,.23,.25],diagnosticPin:"1.18",atxPowerPin:"NoPin",spiTempSensorCSPins:["NoPin","NoPin"],externalSDCard:{present:!1,csPin:"0.28",cardDetectPin:"0.27",spiFrequencyHz:4e6,spiChannel:0},internalSDCardSPIFrequencyHz:25e6,lcd:{lcdCSPin:"0.16",lcdBeepPin:"1.31",encoderPinA:"3.25",encoderPinB:"3.26",encoderPinSw:"1.30",lcdDCPin:"NoPin",panelButtonPin:"2.11",spiChannel:0},manualServoPin:"NoPin",lcdEnabled:!1,stepperDriver:"A5984",stepperDriverTimings:"1.0:1.0:0.2:0.2"},M={name:"smoothieboard",caption:"Smoothieboard",motorWarningCurrent:1800,motorLimitCurrent:2e3,seriesResistor:4700,microstepping:!1,microsteppingInterpolation:!1,maxDrives:5,maxHeaters:3,maxThermistors:3,maxRtdBoards:2,maxFans:2,hasEthernet:!0,hasWiFi:!1,hasPowerFailureDetection:!1,hasMotorLoadDetection:!1,lpc:D,lpc_defaults:T};var $={getDefaultTemplate(){return{board:"smoothieboard",firmware:3,nvram:!1,auto_save:{enabled:!1,save_threshold:10,resume_threshold:11,gcodes_to_run:"M913 X0 Y0 G91 M83 G1 Z3 E-5 F1000"},geometry:{type:"cartesian",mins:[0,0,0],maxes:[230,210,200],delta_radius:105.6,homed_height:250,low_dive_height:!1,max_carriage_travel:260,print_radius:85,rod_length:215,z_min:0},drives:[{direction:1,microstepping:16,microstepping_interpolation:!0,steps_per_mm:80,instant_dv:15,max_speed:100,acceleration:500,current:800,driver:0,endstop_type:1,endstop_location:1,endstop_pin:null,stepperDriver:null,stepperDriverTimings:""},{direction:1,microstepping:16,microstepping_interpolation:!0,steps_per_mm:80,instant_dv:15,max_speed:100,acceleration:500,current:800,driver:1,endstop_type:1,endstop_location:1,endstop_pin:null,stepperDriver:null,stepperDriverTimings:""},{direction:1,microstepping:16,microstepping_interpolation:!0,steps_per_mm:4e3,instant_dv:.2,max_speed:3,acceleration:20,current:800,driver:2,endstop_type:3,endstop_location:1,endstop_pin:null,stepperDriver:null,stepperDriverTimings:""},{direction:1,microstepping:16,microstepping_interpolation:!0,steps_per_mm:420,instant_dv:2,max_speed:20,acceleration:250,current:800,driver:3,endstop_pin:null,stepperDriver:null,stepperDriverTimings:""}],idle:{used:!0,factor:30,timeout:30},homing_speed_fast:30,homing_speed_slow:6,travel_speed:100,z_dive_height:5,slow_homing:!1,probe:{type:"unmodulated",recovery_time:.4,trigger_height:2.5,trigger_value:500,x_offset:0,y_offset:0,speed:2,deploy:!1,points:[],pwm_channel:60,pwm_inverted:!1,probe_pin:null},bed_is_nozzle:!1,bed:{present:!0,heater:-1,channel:-1,use_pid:!1,width:210,length:230},chamber:{present:!1,heater:-1,channel:-1,use_pid:!1},heaters:[{temp_limit:120,scale_factor:100,series:4700,thermistor:1e5,beta:4138,a:.0005717725,b:.0002416626,c:0,heater:-1,channel:-1},{temp_limit:280,scale_factor:100,series:4700,thermistor:1e5,beta:4138,a:.0005717725,b:.0002416626,c:0,heater:-1,channel:-1}],num_nozzles:1,toolchange_wait_for_temperatures:!0,generate_t_code:!1,tools:[{mix_ratio:[],number:0,name:"",extruders:[0],heaters:[1],x_offset:0,y_offset:0,z_offset:0}],compensation_x_offset:15,compensation_y_offset:15,peripheral_points:3,halfway_points:0,calibration_factors:3,probe_radius:85,mesh:{x_min:15,x_max:215,y_min:15,y_max:195,radius:85,spacing:20},home_first:!1,orthogonal:{compensation:!1,height:50,deviations:[0,0,0]},network:{enabled:!0,mac_address:"00:1F:11:02:04:20",name:"My Printer",password:"",ssid:"",ssid_password:"",dhcp:!0,ip:"192.168.1.20",netmask:"255.255.255.0",gateway:"192.168.1.254",protocols:{http:!0,ftp:!1,telnet:!1}},fans:[{value:0,inverted:!1,frequency:250,thermostatic:!1,heaters:[],trigger_temperature:45,fanPin:-1},{value:100,inverted:!1,frequency:250,thermostatic:!0,heaters:[1],trigger_temperature:45,fanPin:-1}],custom_settings:"",lpc:T}},update(e){e.heaters.forEach(e=>{null!=e&&(e.hasOwnProperty("a")&&delete e.a,e.hasOwnProperty("b")&&delete e.b,e.hasOwnProperty("c")||(e.c=0))});let t=this.copy(this.getDefaultTemplate(),e);for(let a in t)e[a]=t[a];for(let a in e)t.hasOwnProperty(a)||delete e[a]},copy(e,t){let a={};for(let r in e)if(null!=e[r])if(e[r].constructor===Object)t.hasOwnProperty(r)?a[r]=this.copy(e[r],t[r]):a[r]=this.copy(e[r],{});else if(e[r].constructor===Array)if(t.hasOwnProperty(r)){a[r]=[];let s=void 0;for(let i=0;i<t[r].length;i++)e[r].length>i&&(s=e[r][i]),void 0==s||null==t[r][i]||t[r][i].constructor!==Object?a[r].push(t[r][i]):a[r].push(this.copy(s,t[r][i]))}else a[r]=e[r].slice();else t.hasOwnProperty(r)&&e[r].constructor===t[r].constructor?a[r]=t[r]:a[r]=e[r];return a}};let E={customTemplate:$.getDefaultTemplate()};var z={data:()=>E,methods:{fileSelected(e){if(e.target.files.length>0){let t=new FileReader,a=this;t.onload=function(e){try{a.$refs.inputJsonFile.value=null,a.machine="existing",a.template=JSON.parse(e.target.result)}catch(e){alert("Error: The specified file could not be read!"+e)}},t.readAsText(e.target.files[0])}},setMachine(e){"custom"==e?this.template=this.customTemplate:("custom"==this.machine&&(this.customTemplate=Object.assign({},this.template)),"existing"==e?(this.$refs.inputJsonFile.click(),this.$nextTick(function(){this.machine="custom",this.template=this.customTemplate})):u.a.get(`machines/${e}.json`).then(t=>{this.machine=e,this.template=t.data}).catch(e=>{alert("Failed to load template from server:\n\n"+e)}))}}},F=z,H=Object(y["a"])(F,S,N,!1,null,null,null),q=H.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",[a("b-card",{attrs:{header:"General Preferences"}},[a("b-form-row",[a("b-col",[a("b-form-group",{attrs:{label:"Board:"}},[a("b-form-select",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Board on which the firmware runs"},on:{change:e.setBoard},model:{value:e.template.board,callback:function(t){e.$set(e.template,"board",t)},expression:"template.board"}},e._l(e.Boards.getBoards(),function(t,r){return a("option",{domProps:{value:t.name,textContent:e._s(t.caption)}})}),0)],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Firmware version:"}},[a("b-form-select",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Version of the firmware running on your board"},model:{value:e.template.firmware,callback:function(t){e.$set(e.template,"firmware",e._n(t))},expression:"template.firmware"}},[a("option",{attrs:{value:"3"}},[e._v("3.0 or newer")])])],1)],1)],1),a("b-form-checkbox",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Load saved configuration parameters on start-up (M501)"},model:{value:e.template.nvram,callback:function(t){e.$set(e.template,"nvram",t)},expression:"template.nvram"}},[e._v("Read config-override.g file at end of startup process")]),e.board.hasPowerFailureDetection?a("b-form-checkbox",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Store the last valid print parameters on the SD card when a power failure occurs (M911)"},model:{value:e.template.auto_save.enabled,callback:function(t){e.$set(e.template.auto_save,"enabled",t)},expression:"template.auto_save.enabled"}},[e._v("Save print state on power failure")]):e._e(),e.template.auto_save.enabled?a("div",{staticClass:"mt-3 pl-4"},[a("b-form-row",[a("b-col",[a("b-form-group",{attrs:{label:"Auto Save Threshold:"}},[a("b-input-group",{attrs:{append:"V"}},[a("b-form-input",{attrs:{type:"number",step:"any",required:""},model:{value:e.template.auto_save.save_threshold,callback:function(t){e.$set(e.template.auto_save,"save_threshold",e._n(t))},expression:"template.auto_save.save_threshold"}})],1)],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Resume Threshold:"}},[a("b-input-group",{attrs:{append:"V"}},[a("b-form-input",{attrs:{type:"number",step:"any",required:""},model:{value:e.template.auto_save.resume_threshold,callback:function(t){e.$set(e.template.auto_save,"resume_threshold",e._n(t))},expression:"template.auto_save.resume_threshold"}})],1)],1)],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-group",{attrs:{label:"G-Codes to run when Auto-Saving is performed:"}},[a("b-form-input",{attrs:{type:"text",required:""},model:{value:e.template.auto_save.gcodes_to_run,callback:function(t){e.$set(e.template.auto_save,"gcodes_to_run","string"===typeof t?t.trim():t)},expression:"template.auto_save.gcodes_to_run"}})],1)],1)],1),a("span",[e._v("Important: The file /sys/resurrect-prologue.g must be set up manually for resume to work (see "),a("a",{attrs:{href:"https://duet3d.dozuki.com/Wiki/Setting_up_to_resume_a_print_after_a_power_failure#Section_Setting_up_the_sys_resurrect_prologue_g_file",target:"_blank"}},[e._v("Duet3D wiki")]),e._v(")")])],1):e._e()],1),a("b-card",{staticClass:"mt-3",attrs:{"no-body":"",header:"Printer Geometry"}},[a("b-tabs",{attrs:{card:"",pills:""},model:{value:e.geometry,callback:function(t){e.geometry=t},expression:"geometry"}},[a("b-tab",{attrs:{title:"Cartesian"}},[a("geometry-form"),a("span",[e._v("This machine uses individual motors to drives each axis")])],1),a("b-tab",{attrs:{title:"CoreXY"}},[a("geometry-form"),a("span",[e._v("This machine uses two coupled motors to position the nozzle on the XY plane")])],1),a("b-tab",{attrs:{title:"CoreXZ"}},[a("geometry-form"),a("span",[e._v("This machine uses two coupled motors to position the nozzle on the XZ plane")])],1),a("b-tab",{attrs:{title:"Delta"}},[a("b-form-row",[a("b-col",[a("b-form-group",{attrs:{label:"Delta radius:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Horizontal distance subtended by each rod, measured between joint centres, when the effector is in the centre",min:e.template.geometry.print_radius,type:"number",step:"any",required:""},model:{value:e.template.geometry.delta_radius,callback:function(t){e.$set(e.template.geometry,"delta_radius",e._n(t))},expression:"template.geometry.delta_radius"}})],1)],1),a("b-form-group",{attrs:{label:"Printable radius:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Safe printing radius",min:"1",max:e.template.geometry.delta_radius,type:"number",step:"any",required:""},model:{value:e.template.geometry.print_radius,callback:function(t){e.$set(e.template.geometry,"print_radius",e._n(t))},expression:"template.geometry.print_radius"}})],1)],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Minimum Z:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Minimum allowed Z travel",max:e.template.geometry.homed_height,type:"number",step:"any",required:""},model:{value:e.template.geometry.z_min,callback:function(t){e.$set(e.template.geometry,"z_min",e._n(t))},expression:"template.geometry.z_min"}})],1)],1),a("b-form-group",{attrs:{label:"Diagonal rod length:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Distance between the centre of your towers and the joint at the effector",min:"1",type:"number",step:"any",required:""},model:{value:e.template.geometry.rod_length,callback:function(t){e.$set(e.template.geometry,"rod_length",e._n(t))},expression:"template.geometry.rod_length"}})],1)],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Homed height:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Maximum build height of your printer",min:e.template.geometry.homed_height,min:"1",max:e.template.geometry.max_carriage_travel,type:"number",step:"any",required:""},model:{value:e.template.geometry.homed_height,callback:function(t){e.$set(e.template.geometry,"homed_height",e._n(t))},expression:"template.geometry.homed_height"}})],1)],1),a("b-form-group",{attrs:{label:"Maximum carriage travel:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Maximum travel length in Z direction",type:"number",required:""},model:{value:e.template.geometry.max_carriage_travel,callback:function(t){e.$set(e.template.geometry,"max_carriage_travel",e._n(t))},expression:"template.geometry.max_carriage_travel"}})],1)],1)],1)],1),a("span",[e._v("This machine uses towers to position the nozzle")])],1)],1)],1)],1)},O=[],A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-form-row",[a("b-col",[a("b-form-group",{attrs:{label:"X minimum:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Distance between the low X axis end and the bed corner",max:e.template.geometry.maxes[0],type:"number",step:"any",required:""},model:{value:e.template.geometry.mins[0],callback:function(t){e.$set(e.template.geometry.mins,0,e._n(t))},expression:"template.geometry.mins[0]"}})],1)],1),a("b-form-group",{attrs:{label:"X maximum:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Maximum length of the X axis plus X minimum",min:e.template.geometry.mins[0],type:"number",step:"any",required:""},model:{value:e.template.geometry.maxes[0],callback:function(t){e.$set(e.template.geometry.maxes,0,e._n(t))},expression:"template.geometry.maxes[0]"}})],1)],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Y minimum:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Distance between the low Y axis end and the bed corner",max:e.template.geometry.maxes[1],type:"number",step:"any",required:""},model:{value:e.template.geometry.mins[1],callback:function(t){e.$set(e.template.geometry.mins,1,e._n(t))},expression:"template.geometry.mins[1]"}})],1)],1),a("b-form-group",{attrs:{label:"Y maximum:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Maximum length of the Y axis plus Y minimum",min:e.template.geometry.mins[1],type:"number",step:"any",required:""},model:{value:e.template.geometry.maxes[1],callback:function(t){e.$set(e.template.geometry.maxes,1,e._n(t))},expression:"template.geometry.maxes[1]"}})],1)],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Z minimum:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Minimum allowed Z position",max:e.template.geometry.maxes[2],type:"number",step:"any",required:""},model:{value:e.template.geometry.mins[2],callback:function(t){e.$set(e.template.geometry.mins,2,e._n(t))},expression:"template.geometry.mins[2]"}})],1)],1),a("b-form-group",{attrs:{label:"Z maximum:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Maximum allowed Z position",min:e.template.geometry.mins[2],type:"number",step:"any",required:""},model:{value:e.template.geometry.maxes[2],callback:function(t){e.$set(e.template.geometry.maxes,2,e._n(t))},expression:"template.geometry.maxes[2]"}})],1)],1)],1)],1)},I=[],L={},R=Object(y["a"])(L,A,I,!1,null,null,null),V=R.exports;const j={LEDs:[{text:"Play",value:"4.28"}],endstops:[{text:"X-",value:"1.24"},{text:"Y-",value:"1.26"},{text:"Z-",value:"1.29"},{text:"X+",value:"1.25"},{text:"Y+",value:"1.27"},{text:"Z+",value:"1.28"}],thermistors:[{text:"T0",value:.23},{text:"T1",value:.24},{text:"T2",value:.25}],mosfets:[{text:"D8",value:2.7},{text:"D9",value:2.4},{text:"D10",value:2.5}],servoPins:[{text:"Servo0",value:"1.20"},{text:"Servo1",value:"1.21"},{text:"Servo2",value:"1.19"}],hasDriverCurrentControl:!1,hasBuiltinDrivers:!1,hasMinMaxEndstops:!0},W={boardName:"rearm",heatOnPins:["2.5","2.7","2.4"],endstopPins:[1.24,1.26,1.29],fanPins:["2.4"],tempSensePins:["0.24","0.23","0.25"],diagnosticPin:"4.28",atxPowerPin:"2.12",spiTempSensorCSPins:["NoPin","NoPin"],externalSDCard:{csPin:"1.23",cardDetectPin:"1.31",spiFrequencyHz:4e6,spiChannel:0},internalSDCardSPIFrequencyHz:25e6,lcd:{lcdCSPin:"0.16",lcdBeepPin:"1.30",encoderPinA:"3.25",encoderPinB:"3.26",encoderPinSw:"2.11",lcdDCPin:"2.6",panelButtonPin:"1.22",spiChannel:0},manualServoPin:"NoPin",lcdEnabled:!1,stepperDriver:"A5984",stepperDriverTimings:"1.0:1.0:0.2:0.2"},Z={name:"rearm",caption:"ReArm",motorWarningCurrent:1800,motorLimitCurrent:2e3,seriesResistor:4700,microstepping:!1,microsteppingInterpolation:!1,maxDrives:5,maxHeaters:3,maxThermistors:3,maxRtdBoards:1,maxFans:1,hasEthernet:!0,hasWiFi:!1,hasPowerFailureDetection:!1,hasMotorLoadDetection:!1,lpc:j,lpc_defaults:W},Y={LEDs:[{text:"LED1",value:1.18},{text:"LED2",value:1.19},{text:"LED3",value:1.2},{text:"LED4",value:1.21}],endstops:[{text:"XMin",value:1.24},{text:"YMin",value:1.26},{text:"ZMin",value:1.28},{text:"XMax",value:1.25},{text:"YMax",value:1.27},{text:"ZMax",value:1.29}],thermistors:[{text:"TH1",value:.23},{text:"TH2",value:.24},{text:"TH3",value:.25},{text:"TH4",value:.26}],mosfets:[{text:"BED",value:2.5},{text:"E1",value:2.7},{text:"E2",value:2.6},{text:"FAN",value:2.4}],servoPins:[],hasDriverCurrentControl:!0,hasBuiltinDrivers:!0,hasMinMaxEndstops:!0},X={boardName:"mkssbase_1.3",heatOnPins:[2.5,2.7,2.6],endstopPins:[1.24,1.26,1.28],fanPins:[2.4],tempSensePins:[.23,.24,.25],diagnosticPin:"1.18",atxPowerPin:"NoPin",spiTempSensorCSPins:["NoPin","NoPin"],externalSDCard:{present:!1,csPin:"0.28",cardDetectPin:"0.27",spiFrequencyHz:4e6,spiChannel:0},internalSDCardSPIFrequencyHz:25e6,lcd:{lcdCSPin:"0.16",lcdBeepPin:"1.31",encoderPinA:"3.25",encoderPinB:"3.26",encoderPinSw:"1.30",lcdDCPin:"NoPin",panelButtonPin:"2.11",spiChannel:0},manualServoPin:"NoPin",lcdEnabled:!1,stepperDriver:"DRV8825",stepperDriverTimings:"1.9:1.9:0.65:0.65"},G={name:"mkssbase_1.3",caption:"MKS Sbase v1.3",motorWarningCurrent:1800,motorLimitCurrent:2e3,seriesResistor:4700,microstepping:!1,microsteppingInterpolation:!1,maxDrives:5,maxHeaters:3,maxThermistors:3,maxRtdBoards:2,maxFans:1,hasEthernet:!0,hasWiFi:!1,hasPowerFailureDetection:!1,hasMotorLoadDetection:!1,lpc:Y,lpc_defaults:X},U={LEDs:[{text:"LED1",value:1.18}],endstops:[{text:"XMin",value:1.29},{text:"YMin",value:1.27},{text:"ZMin",value:1.25},{text:"XMax",value:1.28},{text:"YMax",value:1.26},{text:"ZMax",value:1.24}],thermistors:[{text:"TB",value:.23},{text:"TH0",value:.24},{text:"TH1",value:.25}],mosfets:[{text:"HBED",value:2.5},{text:"HE0",value:2.7},{text:"HE1",value:2.4},{text:"FAN",value:2.3}],servoPins:[{text:"Servo",value:2}],hasDriverCurrentControl:!1,hasBuiltinDrivers:!1,hasMinMaxEndstops:!0},K={boardName:"biquskr_1.3",heatOnPins:[2.5,2.7,2.4],endstopPins:[1.29,1.27,1.25],fanPins:[2.3],tempSensePins:[.23,.24,.25],diagnosticPin:"1.18",atxPowerPin:"NoPin",spiTempSensorCSPins:["NoPin","NoPin"],externalSDCard:{present:!1,csPin:"0.16",cardDetectPin:"1.31",spiFrequencyHz:4e6,spiChannel:0},internalSDCardSPIFrequencyHz:25e6,softwareSPI:{pins:["1.20","NoPin","1.18"]},lcd:{lcdCSPin:"1.19",lcdBeepPin:"1.30",encoderPinA:"3.26",encoderPinB:"3.25",encoderPinSw:"0.28",lcdDCPin:"NoPin",panelButtonPin:"NoPin",spiChannel:2},manualServoPin:"NoPin",lcdEnabled:!1,stepperDriver:"A5984",stepperDriverTimings:"1.0:1.0:0.2:0.2"},J={name:"biquskr1_3",caption:"SKR v1.3",motorWarningCurrent:1800,motorLimitCurrent:2e3,seriesResistor:4700,microstepping:!1,microsteppingInterpolation:!1,maxDrives:5,maxHeaters:3,maxThermistors:3,maxRtdBoards:2,maxFans:1,hasEthernet:!1,hasWiFi:!1,hasPowerFailureDetection:!1,hasMotorLoadDetection:!1,lpc:U,lpc_defaults:K};var Q={getBoards:()=>[M,Z,G,J],getBoard(e){const t=this.getBoards();for(let a in t)if(t[a].name==e)return t[a];throw"Invalid board"}};const ee=["cartesian","corexy","corexz","delta"];var te={data(){return{Boards:Q}},components:{"geometry-form":V},computed:{geometry:{get(){const e=this.template.geometry.type;return ee.findIndex(t=>t==e)},set(e){this.template.geometry.type=ee[e];this.preset;"delta"==this.template.geometry.type?(this.template.drives.forEach(function(e,t){(e.steps_per_mm==t<2||(2==t||420))&&(e.steps_per_mm=t<3?80:663),(e.instant_dv==t<2||(2==t||2))&&(e.instant_dv=20),(e.max_speed==t<2||(2==t||20))&&(e.max_speed=t<3?300:20),(e.acceleration==t<2||(2==t||250))&&(e.acceleration=1e3),800==e.current&&(e.current=t<3?1e3:800)}),3==this.template.drives[2].endstop_type&&(this.template.drives[2].endstop_type=1),this.preset.drives[2].endstop_type=1,this.preset.drives.forEach(function(e,t){e.steps_per_mm=t<3?80:663,e.instant_dv=20,e.max_speed=t<3?300:20,e.acceleration=1e3,e.current=t<3?1e3:800})):(this.template.drives.forEach(function(e,t){(e.steps_per_mm==t<3||663)&&(e.steps_per_mm=t<2?80:2==t?4e3:420),20==e.instant_dv&&(e.instant_dv=t<2?15:2==t?.2:2),(e.max_speed==t<3||20)&&(e.max_speed=t<2?100:2==t?3:20),1e3==e.acceleration&&(e.acceleration=t<2?500:2==t?20:250),(e.current==t<3||800)&&(e.current=800)}),1==this.template.drives[2].endstop_type&&(this.template.drives[2].endstop_type=3),this.preset.drives[2].endstop_type=3,this.preset.drives.forEach(function(e,t){e.steps_per_mm=t<2?80:2==t?4e3:420,e.instant_dv=t<2?15:2==t?.2:2,e.max_speed=t<2?100:2==t?3:20,e.acceleration=t<2?500:2==t?20:250,e.current=800}))}}},methods:{updateBoardDefaults(e){if(this.template.lpc=this.board.lpc_defaults,this.template.heaters.length>0&&(-1==this.template.heaters[0].heater||e))for(var t=0;t<this.template.heaters.length;t++)if(t<this.template.lpc.heatOnPins.length){const e=this.template.lpc.heatOnPins[t],a=this.template.lpc.tempSensePins[t];this.template.heaters[t].heater=e,this.template.heaters[t].channel=a}(null==this.template.probe.probe_pin||e)&&(this.template.probe.probe_pin=4==this.board.lpc.endstops.length?this.board.lpc.endstops[3].value:this.board.lpc.endstops[2].value);for(t=0;t<3;t++)(null==this.template.drives[t].endstop_pin||e)&&("delta"==this.template.geometry.type&&1==this.board.lpc.hasMinMaxEndstops?this.template.drives[t].endstop_pin=this.board.lpc.endstops[t+3].value:this.template.drives[t].endstop_pin=this.board.lpc.endstops[t].value)},setBoard(e){this.updateBoardDefaults(!0)},setBoardSeriesResistor(e){this.board.seriesResistor=e,this.preset.heaters.forEach(function(t){t.series=e}),this.template.heaters.forEach(function(t){(1e3==t.series&&4700==e||4700==t.series&&1e3==e)&&(t.series=e)})}},beforeMount(){this.updateBoardDefaults(!1)}},ae=te,re=Object(y["a"])(ae,B,O,!1,null,null,null),se=re.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",[a("b-card",{attrs:{"no-body":""}},[a("template",{slot:"header"},[e._v("\n\t\t\tAxes\n\t\t\t")]),a("table",{staticClass:"table mb-0"},[a("thead",[a("th",[e._v("Drive")]),a("th",[e._v("Direction")]),a("th",[e._v("Driver")]),a("th",[e._v("Steps per mm")]),a("th",[e._v("Max. Speed Change (mm/s)")]),a("th",[e._v("Max. Speed (mm/s)")]),a("th",[e._v("Acceleration (mm/s²)")]),a("th",[e._v("Motor Current (mA)")]),a("th",[e._v("Motor Driver")])]),a("tbody",e._l([0,1,2],function(t){return a("drive-row",{key:t,attrs:{index:t,drive:e.template.drives[t],presetDrive:e.preset.drives[t],drivers:e.drivers}})}),1)])],2),a("b-card",{staticClass:"mt-3",attrs:{"no-body":""}},[a("template",{slot:"header"},[a("span",{staticClass:"mt-2"},[e._v("Extruders")]),a("b-button-group",{staticClass:"float-right"},[a("b-button",{attrs:{size:"sm",variant:"success",disabled:!e.canAddExtruder},on:{click:e.addExtruder}},[a("font-awesome-icon",{attrs:{icon:"plus"}}),e._v(" Add Extruder")],1),a("b-button",{attrs:{size:"sm",variant:"danger",disabled:!e.canRemoveExtruder},on:{click:e.removeExtruder}},[a("font-awesome-icon",{attrs:{icon:"minus"}}),e._v(" Remove Extruder")],1)],1)],1),a("table",{staticClass:"table mb-0"},[a("thead",[a("th",[e._v("Drive")]),a("th",[e._v("Direction")]),a("th",[e._v("Driver")]),a("th",[e._v("Steps per mm")]),a("th",[e._v("Max. Speed Change (mm/s)")]),a("th",[e._v("Max. Speed (mm/s)")]),a("th",[e._v("Acceleration (mm/s²)")]),a("th",[e._v("Motor Current (mA)")]),a("th",[e._v("Motor Driver")])]),a("tbody",e._l(e.template.drives.length-3,function(t){return a("drive-row",{key:t+2,attrs:{index:t+2,drive:e.template.drives[t+2],presetDrive:e.preset.drives[3],drivers:e.drivers}})}),1)])],2),a("b-card",{staticClass:"mt-3",attrs:{header:"Motor Current Reduction"}},[a("b-form-row",[a("b-col",{attrs:{"align-self":"center"}},[a("b-checkbox",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Disable motors on inactivity"},model:{value:e.template.idle.used,callback:function(t){e.$set(e.template.idle,"used",t)},expression:"template.idle.used"}},[e._v("Reduce motor currents when idle")])],1),a("b-col",[a("label",{attrs:{for:"idle_factor"}},[e._v("Idle Current Percentage:")]),a("b-input-group",{attrs:{append:"%"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{id:"idle_factor",title:"Motor idle current reduction factor (M906)",disabled:!e.template.idle.used,min:"0",max:"100",type:"number",step:"any",required:""},model:{value:e.template.idle.factor,callback:function(t){e.$set(e.template.idle,"factor",e._n(t))},expression:"template.idle.factor"}})],1)],1),a("b-col",[a("label",{attrs:{for:"idle_timeout"}},[e._v("Idle Timeout:")]),a("b-input-group",{attrs:{append:"s"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{id:"idle_timeout",title:"Motor idle timeout value (M84)",disabled:!e.template.idle.used,min:"0",type:"number",step:"any",required:""},model:{value:e.template.idle.timeout,callback:function(t){e.$set(e.template.idle,"timeout",e._n(t))},expression:"template.idle.timeout"}})],1)],1)],1)],1)],1)},oe=[],ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("td",{domProps:{textContent:e._s(e.getDriveCaption(e.index))}}),a("td",[a("b-select",{directives:[{name:"preset",rawName:"v-preset",value:e.presetDrive.direction,expression:"presetDrive.direction"}],attrs:{title:"Direction of this drive"},model:{value:e.drive.direction,callback:function(t){e.$set(e.drive,"direction",e._n(t))},expression:"drive.direction"}},[a("option",{attrs:{value:"0"}},[e._v("Backwards")]),a("option",{attrs:{value:"1"}},[e._v("Forwards")])])],1),a("td",[a("b-select",{directives:[{name:"preset",rawName:"v-preset",value:e.template.lpc.stepperDriver,expression:"template.lpc.stepperDriver"}],attrs:{title:"Stepper Driver",disabled:e.board.lpc.hasBuiltinDrivers},model:{value:e.driverOption,callback:function(t){e.driverOption=t},expression:"driverOption"}},e._l(e.stepperDriverTimings,function(t,r){return a("option",{domProps:{value:r}},[e._v(e._s(r))])}),0),a("b-form-group",{directives:[{name:"show",rawName:"v-show",value:"Custom"==e.drive.stepperDriver,expression:"drive.stepperDriver=='Custom'"}],attrs:{label:"Stepper Timings:"}},[a("timing-input",{attrs:{drive:e.drive,presetDrive:e.presetDrive,index:e.index}})],1)],1),a("td",[a("steps-per-mm-input",{attrs:{drive:e.drive,presetDrive:e.presetDrive,index:e.index}})],1),a("td",[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset",value:e.presetDrive.instant_dv,expression:"presetDrive.instant_dv"}],attrs:{title:"Maximum allowed instantenous speed change (M566)",min:"0.1",max:e.drive.max_speed,type:"number",step:"any",required:""},model:{value:e.drive.instant_dv,callback:function(t){e.$set(e.drive,"instant_dv",e._n(t))},expression:"drive.instant_dv"}})],1),a("td",[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset",value:e.presetDrive.max_speed,expression:"presetDrive.max_speed"}],attrs:{title:"Maximum allowed speed (M203)",min:e.drive.instant_dv,type:"number",step:"any",required:""},model:{value:e.drive.max_speed,callback:function(t){e.$set(e.drive,"max_speed",e._n(t))},expression:"drive.max_speed"}})],1),a("td",[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset",value:e.presetDrive.acceleration,expression:"presetDrive.acceleration"}],attrs:{title:"Drive acceleration (M201)",min:"1",type:"number",step:"any",required:""},model:{value:e.drive.acceleration,callback:function(t){e.$set(e.drive,"acceleration",e._n(t))},expression:"drive.acceleration"}})],1),a("td",[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset",value:e.presetDrive.current,expression:"presetDrive.current"}],attrs:{title:"Motor current (M906)",min:"300",max:e.board.motorLimitCurrent,type:"number",step:"any",required:""},model:{value:e.drive.current,callback:function(t){e.$set(e.drive,"current",e._n(t))},expression:"drive.current"}}),e.drive.current>=e.board.motorWarningCurrent?a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"text-warning small-text",attrs:{title:"Your specified motor current exceeds the safe range. You may have to use extra cooling to prevent damage of your stepper drivers!"}},[a("font-awesome-icon",{attrs:{icon:"exclamation-triangle"}}),a("u",{staticClass:"ml-1"},[e._v("Warning!")])],1):e._e()],1),a("td",[a("b-select",{directives:[{name:"preset",rawName:"v-preset",value:e.index,expression:"index"}],attrs:{options:e.drivers,title:"Motor driver (M584)"},model:{value:e.drive.driver,callback:function(t){e.$set(e.drive,"driver",e._n(t))},expression:"drive.driver"}})],1)])},le=[],pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset",value:e.presetDrive.steps_per_mm,expression:"presetDrive.steps_per_mm"}],ref:"stepsPerMm",attrs:{title:"Motor steps per mm (M92)",min:"1",type:"number",step:"any",required:""},model:{value:e.drive.steps_per_mm,callback:function(t){e.$set(e.drive,"steps_per_mm",e._n(t))},expression:"drive.steps_per_mm"}}),a("b-popover",{attrs:{target:e.inputElement,show:e.popoverShown,placement:"right",title:"Calculate steps per mm",triggers:"focus"},on:{"update:show":function(t){e.popoverShown=t}}},[a("b-form",[a("b-form-group",{attrs:{label:"Motor step angle:"}},[a("b-select",{model:{value:e.stepAngle,callback:function(t){e.stepAngle=e._n(t)},expression:"stepAngle"}},[a("option",{attrs:{value:"0.9"}},[e._v("0.9° (400 steps per rev)")]),a("option",{attrs:{value:"1.8"}},[e._v("1.8° (200 steps per rev)")]),a("option",{attrs:{value:"7.5"}},[e._v("7.5° (48 steps per rev)")])])],1),"extruder"!=e.driveType?a("b-form-group",{attrs:{horizontal:"",label:"Drive type:","label-cols":"5"}},[a("b-select",{model:{value:e.driveType,callback:function(t){e.driveType=t},expression:"driveType"}},[a("option",{attrs:{value:"belt"}},[e._v("Belt")]),a("option",{attrs:{value:"leadscrew"}},[e._v("Leadscrew")])])],1):e._e(),"belt"==e.driveType?[a("b-form-group",{attrs:{horizontal:"",label:"Preset:","label-cols":"5"}},[a("b-select",{model:{value:e.beltPreset,callback:function(t){e.beltPreset=t},expression:"beltPreset"}},[e._l(e.belt.presets,function(t){return a("option",{domProps:{value:t.value,textContent:e._s(t.text)}})}),a("option",{attrs:{value:"custom"}},[e._v("Custom")])],2)],1),a("b-form-group",{attrs:{horizontal:"",label:"Belt pitch:","label-cols":"5"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{attrs:{min:"0.1",type:"number",step:"any",required:""},model:{value:e.belt.pitch,callback:function(t){e.$set(e.belt,"pitch",e._n(t))},expression:"belt.pitch"}})],1)],1),a("b-form-group",{attrs:{horizontal:"",label:"Pulley teeth:","label-cols":"5"}},[a("b-form-input",{attrs:{min:"1",type:"number",step:"1",required:""},model:{value:e.belt.pulleyTeeth,callback:function(t){e.$set(e.belt,"pulleyTeeth",e._n(t))},expression:"belt.pulleyTeeth"}})],1)]:"leadscrew"==e.driveType?[a("b-form-group",{attrs:{horizontal:"",label:"Preset:","label-cols":"5"}},[a("b-select",{model:{value:e.leadscrewPreset,callback:function(t){e.leadscrewPreset=t},expression:"leadscrewPreset"}},[e._l(e.leadscrew.presets,function(t,r){return a("optgroup",{attrs:{label:r}},e._l(t,function(t){return a("option",{domProps:{value:t.value,textContent:e._s(t.text)}})}),0)}),a("option",{attrs:{value:"custom"}},[e._v("Custom")])],2)],1),a("b-form-group",{attrs:{horizontal:"",label:"Pitch:","label-cols":"5"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{attrs:{type:"number",step:"any",required:""},model:{value:e.leadscrew.pitch,callback:function(t){e.$set(e.leadscrew,"pitch",e._n(t))},expression:"leadscrew.pitch"}})],1)],1),a("b-form-group",{attrs:{horizontal:"",label:"Gear ratio:","label-cols":"5"}},[a("table",[a("tr",[a("td",[a("b-form-input",{staticClass:"no-spinners",attrs:{type:"number",step:"any",required:""},model:{value:e.leadscrew.ratio1,callback:function(t){e.$set(e.leadscrew,"ratio1",e._n(t))},expression:"leadscrew.ratio1"}})],1),a("td",[e._v(":")]),a("td",[a("b-form-input",{staticClass:"no-spinners",attrs:{type:"number",step:"any",required:""},model:{value:e.leadscrew.ratio2,callback:function(t){e.$set(e.leadscrew,"ratio2",e._n(t))},expression:"leadscrew.ratio2"}})],1)])])])]:[a("b-form-group",{attrs:{horizontal:"",label:"Hob diameter:","label-cols":"5"}},[a("b-input-group",{staticClass:"mt-2",attrs:{append:"mm"}},[a("b-form-input",{attrs:{type:"number",step:"any",required:""},model:{value:e.extruder.hob,callback:function(t){e.$set(e.extruder,"hob",e._n(t))},expression:"extruder.hob"}})],1)],1),a("b-form-group",{attrs:{horizontal:"",label:"Gear ratio:","label-cols":"5"}},[a("table",[a("tr",[a("td",[a("b-form-input",{staticClass:"no-spinners",attrs:{type:"number",step:"any",required:""},model:{value:e.extruder.ratio1,callback:function(t){e.$set(e.extruder,"ratio1",e._n(t))},expression:"extruder.ratio1"}})],1),a("td",[e._v(":")]),a("td",[a("b-form-input",{staticClass:"no-spinners",attrs:{type:"number",step:"any",required:""},model:{value:e.extruder.ratio2,callback:function(t){e.$set(e.extruder,"ratio2",e._n(t))},expression:"extruder.ratio2"}})],1)])])]),a("b-form-group",{attrs:{horizontal:"",label:"Amount extruded:","label-cols":"5"}},[a("b-input-group",{staticClass:"mt-2",attrs:{append:"mm"}},[a("b-form-input",{attrs:{type:"number",step:"any",required:""},model:{value:e.extruder.amountExtruded,callback:function(t){e.$set(e.extruder,"amountExtruded",e._n(t))},expression:"extruder.amountExtruded"}})],1)],1),a("b-form-group",{attrs:{horizontal:"",label:"Actually extruded:","label-cols":"5"}},[a("b-input-group",{staticClass:"mt-2",attrs:{append:"mm"}},[a("b-form-input",{attrs:{type:"number",step:"any",required:""},model:{value:e.extruder.actuallyExtruded,callback:function(t){e.$set(e.extruder,"actuallyExtruded",e._n(t))},expression:"extruder.actuallyExtruded"}})],1)],1)],a("b-card",{attrs:{"bg-variant":"light"}},[a("p",[e._v("Resulting steps per mm:")]),a("h3",{class:{"text-danger":!e.isValid}},[e._v("\n\t\t\t\t\t"+e._s(e.isValid?e.calculatedSteps.toFixed(3):"error")+"\n\t\t\t\t\t"),a("b-button",{staticClass:"float-right set-button",attrs:{size:"sm",variant:"primary",disabled:!e.isValid},on:{click:e.apply}},[a("font-awesome-icon",{attrs:{icon:"check"}}),e._v(" Set\n\t\t\t\t\t")],1)],1),a("span",[e._v("at x"+e._s(e.drive.microstepping)+" microstepping")])])],2)],1)],1)},me=[],ce={computed:{beltPreset:{get(){for(let e in this.belt.presets){const t=this.belt.presets[e];if(t.value==this.belt.pitch)return t.value}return"custom"},set(e){"custom"!=e&&(this.belt.pitch=e)}},leadscrewPreset:{get(){for(let e in this.leadscrew.presets)for(let t in this.leadscrew.presets[e]){const a=this.leadscrew.presets[e][t];if(a.value==this.leadscrew.pitch)return a.value}return"custom"},set(e){"custom"!=e&&(this.leadscrew.pitch=e)}},calculatedSteps(){switch(this.driveType){case"belt":return 360*this.drive.microstepping/(this.belt.pulleyTeeth*this.belt.pitch*this.stepAngle);case"leadscrew":let e=this.leadscrew.ratio2/this.leadscrew.ratio1;return 360*this.drive.microstepping*e/(this.leadscrew.pitch*this.stepAngle);case"extruder":let t=this.extruder.ratio2/this.extruder.ratio1,a=this.extruder.amountExtruded/this.extruder.actuallyExtruded;return 360*this.drive.microstepping*t*a/(this.extruder.hob*this.stepAngle*Math.PI)}return 0},isValid(){return isNumber(this.calculatedSteps)}},data(){return{popoverShown:!1,stepAngle:1.8,driveType:this.index<2?"belt":2==this.index?"leadscrew":"extruder",belt:{presets:[{text:"GT2",value:2},{text:"MXL",value:2.03},{text:"T2.5",value:2.5},{text:"T5",value:5}],pitch:2,pulleyTeeth:20},leadscrew:{presets:{Metric:[{text:"M5",value:.8},{text:"M6",value:1},{text:"M8",value:1.25}],Trapezoid:[{text:"TR1.5",value:1.5},{text:"TR3",value:3},{text:"TR4",value:4},{text:"TR6",value:6}]},pitch:.8,ratio1:1,ratio2:1},extruder:{hob:7,ratio1:1,ratio2:3,amountExtruded:10,actuallyExtruded:10}}},methods:{apply(){this.drive.steps_per_mm=this.calculatedSteps,this.popoverShown=!1},inputElement(){return this.$refs.stepsPerMm}},props:{drive:{type:Object,required:!0},presetDrive:{type:Object,required:!0},index:{type:Number,default:0}}},ue=ce,de=(a("2485"),Object(y["a"])(ue,pe,me,!1,null,"f386937e",null)),he=de.exports,be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],ref:"inputUnitless",attrs:{title:"Stepper Timings"},model:{value:e.drive.stepperDriverTimings,callback:function(t){e.$set(e.drive,"stepperDriverTimings",t)},expression:"drive.stepperDriverTimings"}}),a("b-popover",{attrs:{target:e.inputElement,show:e.popoverShown,placement:"right",title:"Custom Stepper Timings",triggers:"focus"},on:{"update:show":function(t){e.popoverShown=t},show:e.onShow}},[a("b-form-group",{staticClass:"tlabel",attrs:{horizontal:"",label:"Step Pulse Width:","label-class":"text-left"}},[a("b-input-group",{staticClass:"tinput",attrs:{append:"μs"}},[a("b-input",{attrs:{min:"0",type:"number",step:"any"},model:{value:e.parameters.pWidth,callback:function(t){e.$set(e.parameters,"pWidth",e._n(t))},expression:"parameters.pWidth"}})],1)],1),a("b-form-group",{staticClass:"tlabel",attrs:{horizontal:"",label:"Step Pulse Interval:","label-class":"text-left"}},[a("b-input-group",{staticClass:"tinput",attrs:{append:"μs"}},[a("b-input",{attrs:{min:"0",type:"number",step:"any"},model:{value:e.parameters.pInterval,callback:function(t){e.$set(e.parameters,"pInterval",e._n(t))},expression:"parameters.pInterval"}})],1)],1),a("b-form-group",{staticClass:"tlabel",attrs:{horizontal:"",label:"Direction Setup Time:","label-class":"text-left"}},[a("b-input-group",{staticClass:"tinput",attrs:{append:"μs"}},[a("b-input",{attrs:{min:"0",type:"number",step:"any"},model:{value:e.parameters.dirSetup,callback:function(t){e.$set(e.parameters,"dirSetup",e._n(t))},expression:"parameters.dirSetup"}})],1)],1),a("b-form-group",{staticClass:"tlabel",attrs:{horizontal:"",label:"Direction Hold Time:","label-class":"text-left"}},[a("b-input-group",{staticClass:"tinput",attrs:{append:"μs"}},[a("b-input",{attrs:{min:"0",type:"number",step:"any"},model:{value:e.parameters.dirHold,callback:function(t){e.$set(e.parameters,"dirHold",e._n(t))},expression:"parameters.dirHold"}})],1)],1),a("b-button",{attrs:{size:"sm",variant:"primary",disabled:!e.isValid},on:{click:e.apply}},[a("font-awesome-icon",{attrs:{icon:"check"}}),e._v(" Set\n\t\t")],1)],1)],1)},ve=[];const fe={pWidth:1,pInterval:1,dirSetup:.5,dirHold:.5};let _e=!1;var ge={computed:{isValid(){return isNumber(this.parameters.pWidth)&&isNumber(this.parameters.pInterval)&&isNumber(this.parameters.dirSetup)&&isNumber(this.parameters.dirHold)}},data(){return{parameters:fe,popoverShown:!1}},methods:{apply(){this.drive.stepperDriverTimings=this.parameters.pWidth+":"+this.parameters.pInterval+":"+this.parameters.dirSetup+":"+this.parameters.dirHold,this.popoverShown=!1},inputElement(){return this.$refs.inputUnitless},onShow(e){if(!_e){var t=this.drive.stepperDriverTimings.split(":",4);4==t.length&&(fe.pWidth=Number(t[0]),fe.pInterval=Number(t[1]),fe.dirSetup=Number(t[2]),fe.dirHold=Number(t[3]))}e.relatedTarget.style.maxWidth="360px"}},props:{drive:Object,drivePreset:Object,index:Number},watch:{parameters:{deep:!0,handler:()=>_e=!0}}},xe=ge,ye=(a("6df2"),Object(y["a"])(xe,be,ve,!1,null,"4e4bacaa",null)),we=ye.exports,Pe={beforeMount(){null==this.drive.stepperDriver&&(this.drive.stepperDriver=null!=this.template.lpc.stepperDriver?this.template.lpc.stepperDriver:"Custom"),this.drive.stepperDriverTimings=this.stepperDriverTimings[this.drive.stepperDriver]},data(){return{stepperDriverTimings:{DRV8825:"1.9:1.9:0.65:0.65",A4988:"1.0:1.0:0.2:0.2",A4982:"1.0:1.0:0.2:0.2",A5984:"1.0:1.0:0.4:0.4",TMC220x:"0.1:0.1:0.02:0.02",TMC222x:"0.1:0.1:0.02:0.02",THB6128:"0.5:0.5:0.5:0.5",Custom:"1.0:1.0:0.4:0.4"}}},components:{"steps-per-mm-input":he,"timing-input":we},computed:{driverOption:{get(){return this.drive.stepperDriver},set(e){this.drive.stepperDriver=e,"Custom"!=e&&(this.drive.stepperDriverTimings=this.stepperDriverTimings[e])}}},methods:{getDriveCaption(e){switch(e){case 0:return"X";case 1:return"Y";case 2:return"Z";default:return"E"+(e-3)}}},props:{index:Number,drive:Object,presetDrive:Object,drivers:Array}},Ce=Pe,ke=(a("c618"),Object(y["a"])(Ce,ne,le,!1,null,"5da223e5",null)),Se=ke.exports,Ne={components:{"drive-row":Se},computed:{canAddExtruder(){return this.template.drives.length<this.board.maxDrives},canRemoveExtruder(){return this.template.drives.length>3}},data(){return{drivers:[]}},methods:{addExtruder(){let e=Object.assign({},this.preset.drives[this.preset.drives.length-1]);e.driver=this.template.drives.length,this.board.microstepping||(e.microstepping=16,e.microstepping_interpolation=!1),this.template.drives.push(e)},removeExtruder(){this.template.drives.pop()}},beforeMount(){let e=[{value:0,text:"0 (X)"},{value:1,text:"1 (Y)"},{value:2,text:"2 (Z)"}];for(let t=3;t<this.board.maxDrives;t++)e.push({value:t,text:`${t} (E${t-3})`});this.drivers=e}},De=Ne,Te=Object(y["a"])(De,ie,oe,!1,null,null,null),Me=Te.exports,$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",[a("b-card",{attrs:{header:"Z-Probe"}},[a("b-form-row",[a("b-col",[a("b-form-group",{attrs:{label:"Probe X Offset:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Offset of the Z-probe in X direction",disabled:"noprobe"==e.template.probe.type,type:"number",step:"any",required:""},model:{value:e.template.probe.x_offset,callback:function(t){e.$set(e.template.probe,"x_offset",e._n(t))},expression:"template.probe.x_offset"}})],1)],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Probe Y Offset:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Offset of the Z-probe in Y direction",disabled:"noprobe"==e.template.probe.type,type:"number",step:"any",required:""},model:{value:e.template.probe.y_offset,callback:function(t){e.$set(e.template.probe,"y_offset",e._n(t))},expression:"template.probe.y_offset"}})],1)],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Probing Speed:"}},[a("b-input-group",{attrs:{append:"mm/s"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Speed at which bed points are probed",type:"number",step:"any",required:""},model:{value:e.template.probe.speed,callback:function(t){e.$set(e.template.probe,"speed",e._n(t))},expression:"template.probe.speed"}})],1)],1)],1),a("b-col",{attrs:{"align-self":"center"}},[a("b-form-checkbox",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Deploy or retract a mechanical probe by running macro files",disabled:"bltouch"==e.template.probe.type},model:{value:e.template.probe.deploy,callback:function(t){e.$set(e.template.probe,"deploy",t)},expression:"template.probe.deploy"}},[e._v("Deploy/Retract Probe")])],1)],1),a("b-card",{attrs:{"no-body":"",header:"Probe Type"}},[a("b-tabs",{attrs:{card:"",pills:""},model:{value:e.probeType,callback:function(t){e.probeType=t},expression:"probeType"}},[a("b-tab",{attrs:{title:"No Z Probe",value:"noprobe"}},[e._v("\n\t\t\t\t\tNo Z-probe is installed. The distance between the nozzle and the bed must be manually determined.\n\t\t\t\t")]),a("b-tab",{attrs:{title:"Switch",value:"switch"}},[a("z-probe-values"),e._v("\n\t\t\t\t\tA switch is used to determine the distance between nozzle and bed.\n\t\t\t\t")],1),a("b-tab",{attrs:{title:"Unmodulated or Smart IR Probe",value:"unmodulated"}},[a("z-probe-values"),e._v("\n\t\t\t\t\tAn umodulated Z-probe is used to determine the distance between nozzle and bed (without trigger signal)\n\t\t\t\t")],1),a("b-tab",{attrs:{title:"Smart Effector or Piezo",value:"effector"}},[a("z-probe-values",[a("b-col",[a("b-form-group",{attrs:{label:"Recovery Time"}},[a("b-input-group",{attrs:{append:"s"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Recovery time of the smart effector/piezo",type:"number",step:"any",required:""},model:{value:e.template.probe.recovery_time,callback:function(t){e.$set(e.template.probe,"recovery_time",e._n(t))},expression:"template.probe.recovery_time"}})],1)],1)],1)],1),e._v("\n\n\t\t\t\t\tOfficial "),a("a",{attrs:{href:"https://www.duet3d.com/DeltaSmartEffector",target:"_blank"}},[e._v("Duet3D Smart Effector")]),e._v(" for Delta printers (also see "),a("a",{attrs:{href:"https://www.duet3d.com/wiki/Smart_effector_and_carriage_adapters_for_delta_printer",target:"_blank"}},[e._v("Duet3D Wiki")]),e._v(")\n\t\t\t\t")],1),a("b-tab",{attrs:{title:"BLTouch",value:"bltouch"}},[a("z-probe-values",{attrs:{"hide-value":!0}},[a("b-col",[a("b-form-group",{attrs:{label:"Servo Control Channel:"}},[a("b-select",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"PWM channel to control the BLTouch probe with"},model:{value:e.pwmChannel,callback:function(t){e.pwmChannel=t},expression:"pwmChannel"}},[e._l(e.board.lpc.servoPins,function(t,r){return a("option",{key:r,domProps:{value:t.value,textContent:e._s(t.text)}})}),e.board.lpc.servoPins.length<3?a("option",{attrs:{value:"Manual"}},[e._v("Manually Entered")]):e._e()],2)],1),e.showManualServoPin?a("b-form-group",{attrs:{label:"Servo Pin:"}},[a("span",[e._v("This does not need to be a HW PWM pin, as the LPC port uses a Hardware Timer to generate the PWM signal for the servo. Enter a pin in the format port.pin (i.e. 1.23)")]),a("b-form-input",{attrs:{type:"number",min:"0",max:"4.31",step:"any",title:"Pin to use for Servo Control for BLTouch"},model:{value:e.template.lpc.manualServoPin,callback:function(t){e.$set(e.template.lpc,"manualServoPin",t)},expression:"template.lpc.manualServoPin"}})],1):e._e()],1)],1),a("span",[e._v("Use a BLTouch for Z-probing")])],1)],1),"noprobe"!=e.template.probe.type?a("b-col",{attrs:{sm:"3"}},[a("b-form-group",{attrs:{label:"Probe Endstop Pin"}},[a("b-select",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Endstop pin for Probe"},model:{value:e.template.probe.probe_pin,callback:function(t){e.$set(e.template.probe,"probe_pin",t)},expression:"template.probe.probe_pin"}},e._l(e.board.lpc.endstops,function(t,r){return a("option",{domProps:{value:t.value,textContent:e._s(t.text)}})}),0)],1)],1):e._e()],1)],1),a("b-card",{staticClass:"mt-3",attrs:{"no-body":""}},[a("template",{slot:"header"},[a("span",{staticClass:"mt-2"},[e._v("Endstop Configuration")]),a("abbr",{staticClass:"float-right",attrs:{id:"endstop_note",title:"When an endstop is hit, the axis position will be set to the corresponding axis minimum/maximum. If your endstop switch is not mounted at the axis end, you will have to add an extra G92 code after the homing move (G1..S1) to your homing files in order to set the new axis position. When homing the Z axis using a Z probe, the firmware will set the new Z position to the specified trigger height"}},[e._v("Note")])]),a("table",{staticClass:"table mb-0"},[a("thead",[a("th",[e._v("Axis")]),a("th",[e._v("Endstop Type")]),a("th",[e._v("Endstop Location")]),a("th",[e._v("Board Endstop Pin")])]),a("tbody",e._l(3,function(t){return a("tr",[a("td",{staticClass:"pl-4 pt-3"},[e._v(e._s(["X","Y","Z"][t-1]))]),a("td",[a("b-form-radio-group",{staticClass:"w-100",attrs:{buttons:"","button-variant":"outline-primary",name:"endstopType"+t},model:{value:e.template.drives[t-1].endstop_type,callback:function(a){e.$set(e.template.drives[t-1],"endstop_type",a)},expression:"template.drives[i - 1].endstop_type"}},[a("b-form-radio",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"w-100",attrs:{value:0,title:"Manual homing via G92"}},[e._v("None")]),a("b-form-radio",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"w-100",attrs:{value:1,title:"Endstop switch pulls signal from GND to +3.3V when triggered (normally-closed switch)"}},[e._v("Active high (NC)")]),a("b-form-radio",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"w-100",attrs:{value:2,title:"Endstop switch pulls signal from +3.3V to GND when triggered (normally-open switch)"}},[e._v("Active low (NO)")]),a("b-form-radio",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"w-100",attrs:{value:3,disabled:"noprobe"==e.template.probe.type,title:"Z-Probe is used"}},[e._v("Z-Probe")])],1)],1),a("td",[a("b-form-radio-group",{staticClass:"w-100",attrs:{buttons:"","button-variant":"outline-primary",name:"endstopLocation"+t},model:{value:e.template.drives[t-1].endstop_location,callback:function(a){e.$set(e.template.drives[t-1],"endstop_location",a)},expression:"template.drives[i - 1].endstop_location"}},[a("b-form-radio",{staticClass:"w-100",attrs:{value:1,disabled:"delta"==e.template.geometry.type}},[e._v("At low end")]),a("b-form-radio",{staticClass:"w-100",attrs:{value:2}},[e._v("At high end")])],1)],1),a("td",[a("b-form-group",{staticClass:"w-100"},[a("b-form-select",{attrs:{disabled:3==e.template.drives[t-1].endstop_type,title:"Endstop Pin"},model:{value:e.template.drives[t-1].endstop_pin,callback:function(a){e.$set(e.template.drives[t-1],"endstop_pin",a)},expression:"template.drives[i - 1].endstop_pin"}},e._l(e.board.lpc.endstops,function(t,r){return a("option",{domProps:{value:t.value,textContent:e._s(t.text)}})}),0)],1)],1)])}),0)])],2),a("b-card",{staticClass:"mt-3",attrs:{header:"Homing Preferences"}},[a("b-form-row",[a("b-col",[a("b-form-group",{attrs:{label:"Homing Speed (First Pass):"}},[a("b-input-group",{attrs:{append:"mm/s"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Homing is performed in two stages. First pass means the initial homing run",type:"number",step:"any",required:""},model:{value:e.template.homing_speed_fast,callback:function(t){e.$set(e.template,"homing_speed_fast",e._n(t))},expression:"template.homing_speed_fast"}})],1)],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Homing Speed (Second Pass):"}},[a("b-input-group",{attrs:{append:"mm/s"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Second pass means the second homing run after the endstops were triggered for the first time",type:"number",step:"any",required:""},model:{value:e.template.homing_speed_slow,callback:function(t){e.$set(e.template,"homing_speed_slow",e._n(t))},expression:"template.homing_speed_slow"}})],1)],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Travel Speed:"}},[a("b-input-group",{attrs:{append:"mm/s"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Speed for travel moves during homing",type:"number",step:"any",required:""},model:{value:e.template.travel_speed,callback:function(t){e.$set(e.template,"travel_speed",e._n(t))},expression:"template.travel_speed"}})],1)],1)],1),a("b-col",{attrs:{"align-self":"center"}},[a("b-form-group",{attrs:{label:"Z Dive Height:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Z lift amount for bed probing and for cartesian homing files",type:"number",step:"any",required:""},model:{value:e.template.z_dive_height,callback:function(t){e.$set(e.template,"z_dive_height",e._n(t))},expression:"template.z_dive_height"}})],1)],1)],1)],1),"delta"==e.template.geometry.type?[a("b-checkbox",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Recommended for initial calibration"},model:{value:e.template.slow_homing,callback:function(t){e.$set(e.template,"slow_homing",t)},expression:"template.slow_homing"}},[e._v("Set initial homing speed to 10% for calibration and add a note to homedelta.g")]),a("br")]:e._e(),a("b-checkbox",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Generate an extra M558 code in config.g that you can remove after initial calibration"},model:{value:e.template.geometry.low_dive_height,callback:function(t){e.$set(e.template.geometry,"low_dive_height",t)},expression:"template.geometry.low_dive_height"}},[e._v("Set dive height to 30mm for initial calibration")])],2)],1)},Ee=[],ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-form-row",[e.hideHeight?e._e():a("b-col",[a("b-form-group",{attrs:{label:"Trigger Height:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Height of the nozzle(s) when the probe is triggered",type:"number",step:"any",required:""},model:{value:e.template.probe.trigger_height,callback:function(t){e.$set(e.template.probe,"trigger_height",e._n(t))},expression:"template.probe.trigger_height"}})],1)],1)],1),e.hideValue?e._e():a("b-col",[a("b-form-group",{attrs:{label:"Trigger Value:"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Trigger threshold for the probe",type:"number",step:"any",required:""},model:{value:e.template.probe.trigger_value,callback:function(t){e.$set(e.template.probe,"trigger_value",e._n(t))},expression:"template.probe.trigger_value"}})],1)],1),e._t("default")],2)},Fe=[],He={props:{hideHeight:{type:Boolean,default:!1},hideValue:{type:Boolean,default:!1}}},qe=He,Be=Object(y["a"])(qe,ze,Fe,!1,null,null,null),Oe=Be.exports;const Ae=["noprobe","switch","unmodulated","effector","bltouch"];var Ie={beforeMount(){},components:{"z-probe-values":Oe},computed:{pwmChannel:{get(){return this.template.probe.pwm_channel=0,this.board.lpc.servoPins.length>0?this.board.lpc.servoPins[0].value:(this.showManualServoPin=!0,"Manual")},set(e){if("Manual"==e)this.showManualServoPin=!0,this.template.probe.pwm_channel=this.board.lpc.servoPins.length;else{this.showManualServoPin=!1,this.template.lpc.manualServoPin="NoPin",this.template.probe.pwm_channel=0;for(var t=0;t<this.board.lpc.servoPins.length;t++)this.board.lpc.servoPins[t].value===e&&(this.template.probe.pwm_channel=t)}}},probeType:{get(){const e=this.template.probe.type;return Ae.findIndex(t=>t==e)},set(e){const t=this.template.probe.type;this.template.probe.type=Ae[e],"bltouch"!=this.template.probe.type&&(this.template.lpc.manualServoPin="NoPin"),"effector"==this.template.probe.type?this.template.probe.speed=20:"effector"==t&&(this.template.probe.speed=this.preset.probe.speed)}}},data(){return{pwmChannels:[],showManualServoPin:!1}}},Le=Ie,Re=(a("f9af"),Object(y["a"])(Le,$e,Ee,!1,null,"059c8196",null)),Ve=Re.exports,je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",[a("b-card",{attrs:{header:"General Heater Settings"}},[a("b-checkbox",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Enable the heated bed"},model:{value:e.template.bed.present,callback:function(t){e.$set(e.template.bed,"present",t)},expression:"template.bed.present"}},[e._v("Heated Bed")]),e.template.bed.present?a("b-form-row",{staticClass:"mt-3 pl-4"},[a("table",{staticClass:"table mb-0 table-heaters"},[a("thead",[a("th",[e._v("Heater")]),a("th",[e._v("Heater Output")]),a("th",[e._v("Temp. Limit")]),a("th",[e._v("PWM Limit")]),a("th",{directives:[{name:"show",rawName:"v-show",value:!e.useSteinhartHart,expression:"!useSteinhartHart"}]},[e._v("R25")]),a("th",{directives:[{name:"show",rawName:"v-show",value:!e.useSteinhartHart,expression:"!useSteinhartHart"}]},[e._v("β")]),a("th",{directives:[{name:"show",rawName:"v-show",value:e.useSteinhartHart,expression:"useSteinhartHart"}]},[e._v("A")]),a("th",{directives:[{name:"show",rawName:"v-show",value:e.useSteinhartHart,expression:"useSteinhartHart"}]},[e._v("B")]),a("th",{directives:[{name:"show",rawName:"v-show",value:e.template.firmware>1.16,expression:"template.firmware > 1.16"}]},[e._v("C")]),a("th",[e._v("Thermistor Input")])]),a("tbody",e._l(e.template.heaters,function(t,r){return 0==r&&null!=t?a("heater-row",{attrs:{index:r,heater:t,useSteinhartHart:e.useSteinhartHart}}):e._e()}),1)]),a("b-col",{attrs:{cols:"auto"}},[a("b-form-group",{attrs:{label:"Control Method:"}},[a("b-form-radio-group",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{buttons:"","button-variant":"outline-primary",title:"Control method for the bed heater",name:"bedPid"},model:{value:e.bedPid,callback:function(t){e.bedPid=t},expression:"bedPid"}},[a("b-form-radio",{attrs:{value:"pid"}},[e._v("PID")]),a("b-form-radio",{attrs:{value:"bangbang"}},[e._v("Bang-Bang")])],1)],1)],1)],1):e._e()],1),a("b-card",{staticClass:"mt-3",attrs:{"no-body":""}},[a("template",{slot:"header"},[a("span",{staticClass:"mt-2"},[e._v("Heater Configuration")]),a("b-button-group",{staticClass:"float-right"},[a("b-button",{attrs:{size:"sm",variant:"success",disabled:!e.canAddNozzle},on:{click:e.addNozzle}},[a("font-awesome-icon",{attrs:{icon:"plus"}}),e._v(" Add Nozzle")],1),a("b-button",{attrs:{size:"sm",variant:"danger",disabled:!e.canRemoveNozzle},on:{click:e.removeNozzle}},[a("font-awesome-icon",{attrs:{icon:"minus"}}),e._v(" Remove Nozzle")],1)],1)],1),a("table",{staticClass:"table mb-0 table-heaters"},[a("thead",[a("th",[e._v("Heater")]),a("th",[e._v("Heater Output")]),a("th",[e._v("Temp. Limit")]),a("th",[e._v("PWM Limit")]),a("th",{directives:[{name:"show",rawName:"v-show",value:!e.useSteinhartHart,expression:"!useSteinhartHart"}]},[e._v("R25")]),a("th",{directives:[{name:"show",rawName:"v-show",value:!e.useSteinhartHart,expression:"!useSteinhartHart"}]},[e._v("β")]),a("th",{directives:[{name:"show",rawName:"v-show",value:e.useSteinhartHart,expression:"useSteinhartHart"}]},[e._v("A")]),a("th",{directives:[{name:"show",rawName:"v-show",value:e.useSteinhartHart,expression:"useSteinhartHart"}]},[e._v("B")]),a("th",{directives:[{name:"show",rawName:"v-show",value:e.template.firmware>1.16,expression:"template.firmware > 1.16"}]},[e._v("C")]),a("th",[e._v("Thermistor Input")])]),a("tbody",e._l(e.template.heaters,function(t,r){return null!=t&&0!=r?a("heater-row",{attrs:{index:r,heater:t,useSteinhartHart:e.useSteinhartHart}}):e._e()}),1)])],2)],1)},We=[],Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[void 0!=e.unit?a("b-input-group",{attrs:{append:e.unit}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset",value:e.presetHeater[e.parameter],expression:"presetHeater[parameter]"}],ref:"inputUnit",attrs:{title:e.title,disabled:e.heater.channel>=100,min:e.min,max:e.max,type:"number",step:"any",required:""},model:{value:e.heater[e.parameter],callback:function(t){e.$set(e.heater,e.parameter,e._n(t))},expression:"heater[parameter]"}})],1):a("b-form-input",{directives:[{name:"preset",rawName:"v-preset",value:e.presetHeater[e.parameter],expression:"presetHeater[parameter]"}],ref:"inputUnitless",attrs:{title:e.title,disabled:e.heater.channel>=100,min:e.min,max:e.max,type:"number",step:"any",required:""},model:{value:e.heater[e.parameter],callback:function(t){e.$set(e.heater,e.parameter,e._n(t))},expression:"heater[parameter]"}}),a("b-popover",{attrs:{target:e.inputElement,show:e.popoverShown,placement:"right",title:"Calculate Heater Parameters",triggers:"focus"},on:{"update:show":function(t){e.popoverShown=t},show:e.onShow}},[a("b-form-group",{attrs:{label:"Thermistor Preset:"}},[a("b-select",{attrs:{options:e.sensorPresets},model:{value:e.sensorPreset,callback:function(t){e.sensorPreset=t},expression:"sensorPreset"}})],1),"custom"==e.sensorPreset?a("b-card",{attrs:{"bg-variant":"light"}},[a("p",[e._v("Measure the resistances of your thermistor at three different temperatures and enter your values below:")]),a("b-form-row",[a("b-col",{attrs:{cols:"5"}},[a("b-form-group",{attrs:{horizontal:"",label:"T1:"}},[a("b-input-group",{attrs:{append:"C"}},[a("b-input",{attrs:{min:"-273",max:"1999",type:"number",step:"any",required:""},model:{value:e.parameters.t1,callback:function(t){e.$set(e.parameters,"t1",e._n(t))},expression:"parameters.t1"}})],1)],1),a("b-form-group",{attrs:{horizontal:"",label:"T2:"}},[a("b-input-group",{attrs:{append:"C"}},[a("b-input",{attrs:{min:"-273",max:"1999",type:"number",step:"any",required:""},model:{value:e.parameters.t2,callback:function(t){e.$set(e.parameters,"t2",e._n(t))},expression:"parameters.t2"}})],1)],1),a("b-form-group",{directives:[{name:"show",rawName:"v-show",value:e.template.firmware>1.16,expression:"template.firmware > 1.16"}],attrs:{horizontal:"",label:"T3:"}},[a("b-input-group",{attrs:{append:"C"}},[a("b-input",{attrs:{min:"-273",max:"1999",type:"number",step:"any"},model:{value:e.parameters.t3,callback:function(t){e.$set(e.parameters,"t3",e._n(t))},expression:"parameters.t3"}})],1)],1)],1),a("b-col",{attrs:{cols:"7"}},[a("b-form-group",{attrs:{horizontal:"",label:"R1:","label-class":"text-right"}},[a("b-input-group",{attrs:{append:"Ω"}},[a("b-input",{attrs:{min:"1",type:"number",step:"any",required:""},model:{value:e.parameters.r1,callback:function(t){e.$set(e.parameters,"r1",e._n(t))},expression:"parameters.r1"}})],1)],1),a("b-form-group",{attrs:{horizontal:"",label:"R2:","label-class":"text-right"}},[a("b-input-group",{attrs:{append:"Ω"}},[a("b-input",{attrs:{min:"1",type:"number",step:"any",required:""},model:{value:e.parameters.r2,callback:function(t){e.$set(e.parameters,"r2",e._n(t))},expression:"parameters.r2"}})],1)],1),a("b-form-group",{directives:[{name:"show",rawName:"v-show",value:e.template.firmware>1.16,expression:"template.firmware > 1.16"}],attrs:{horizontal:"",label:"R3:","label-class":"text-right"}},[a("b-input-group",{attrs:{append:"Ω"}},[a("b-input",{attrs:{min:"1",type:"number",step:"any"},model:{value:e.parameters.r3,callback:function(t){e.$set(e.parameters,"r3",e._n(t))},expression:"parameters.r3"}})],1)],1)],1)],1),a("span",{directives:[{name:"show",rawName:"v-show",value:e.template.firmware>1.16,expression:"template.firmware > 1.16"}]},[e._v("The third pair is optional.")])],1):e._e(),a("b-card",{staticClass:"mt-3"},[a("h3",{staticClass:"mb-3"},[e._v("Resulting Coefficients:")]),a("b-form-row",{staticClass:"mb-0"},[a("b-col",[a("h4",{class:{"text-danger":!e.isValid}},[e._v("R25: "+e._s(e.isValid?Math.round(e.calculatedParameters.thermistor)+" Ω":"error")+" ")]),a("h4",{class:{"text-danger":!e.isValid}},[e._v("β: "+e._s(e.isValid?(e.calculatedParameters.b&&e.isThirdPairValid?Math.round(1/e.calculatedParameters.b):e.calculatedParameters.beta)+" K":"error")+" ")]),a("h4",{directives:[{name:"show",rawName:"v-show",value:e.template.firmware>1.16,expression:"template.firmware > 1.16"}],staticClass:"mb-0",class:{"text-danger":!e.isValid}},[e._v("C: "+e._s(e.isValid?"custom"==e.sensorPreset&&!e.isThirdPairValid||0==e.calculatedParameters.c?"0":e.calculatedParameters.c.toExponential(6):"error"))])]),a("b-col",{attrs:{cols:"auto","align-self":"center"}},[a("b-button",{attrs:{size:"sm",variant:"primary",disabled:!e.isValid},on:{click:e.apply}},[a("font-awesome-icon",{attrs:{icon:"check"}}),e._v(" Set\n\t\t\t\t\t")],1)],1)],1)],1)],1)],1)},Ye=[];const Xe={t1:25,t2:220,t3:"",r1:1e4,r2:1360,r3:""};let Ge=!1;var Ue={computed:{calculatedParameters(){if(this.sensorPreset.constructor===String){let e,t,a,r=Math.log(this.parameters.r2/this.parameters.r1)/(1/(this.parameters.t2+273.15)-1/(this.parameters.t1+273.15)),s=this.parameters.r1*Math.exp(r*(1/298.15-1/(this.parameters.t1+273.15)));if(this.isThirdPairValid){const i=Math.log(this.parameters.r1),o=Math.log(this.parameters.r2),n=Math.log(this.parameters.r3),l=(1/(this.parameters.t2+273.15)-1/(this.parameters.t1+273.15))/(o-i),p=(1/(this.parameters.t3+273.15)-1/(this.parameters.t1+273.15))/(n-i);a=(p-l)/(n-o)/(i+o+n),isNumber(a)?(t=l-a*(i*i+i*o+o*o),e=1/(this.parameters.t1+273.15)-(t+i*i*a)*i):e=t=a=0;const m=1/(2*a)*(e-1/298.15),c=Math.sqrt(Math.pow(t/(3*a),3)+Math.pow(m,2));s=Math.exp(Math.pow(c-m,1/3)-Math.pow(c+m,1/3)),r=Math.round(1/t),a>-1e-16&&a<1e-16&&(a=0)}else r=Math.round(r),a=0;return{thermistor:s,beta:r,c:a}}return this.sensorPreset},isValid(){return isNumber(this.parameters.r1)&&isNumber(this.parameters.r2)&&isNumber(this.parameters.t1)&&isNumber(this.parameters.t2)},isThirdPairValid(){return("custom"!=this.sensorPreset||isNumber(this.parameters.r3)&&isNumber(this.parameters.t3))&&this.template.firmware>1.16}},data(){return{parameters:Xe,sensorPreset:"custom",sensorPresets:[{text:"EPCOS B57863S0103F040 (RepRapPro beds)",value:{thermistor:1e4,beta:3988,c:0}},{text:"EPCOS B57560G1104F",value:{thermistor:1e4,beta:4092,c:0}},{text:"Hisens 3950 1% up to 300°C (Simple ONE and All In ONE hot ends)",value:{thermistor:1e4,beta:4100,c:0}},{text:"Honeywell 135-104QAD-J01 (RepRapPro hot ends)",value:{thermistor:1e5,beta:4138,c:0}},{text:"QWG-104F-3950 (QU-BD silicone bed)",value:{thermistor:1e5,beta:3950,c:0}},{text:"Semitec 104-GT2 (E3D hot ends)",value:{thermistor:1e5,b:.00021164021164021165,beta:4388,c:7.06e-8}},{text:"Slice Engineering High-Temperature Thermistor",value:{thermistor:5e5,beta:4723,c:1.19622e-7}},{text:"Custom",value:"custom"}],popoverShown:!1}},methods:{apply(){const e=this.calculatedParameters;this.heater.thermistor=Math.round(e.thermistor),this.heater.beta=this.isThirdPairValid&&e.b?Math.round(1/e.b):e.beta,this.heater.c=this.isThirdPairValid?parseFloat(e.c.toExponential(6)):0,this.popoverShown=!1},inputElement(){return void 0==this.unit?this.$refs.inputUnitless:this.$refs.inputUnit},onShow(e){if(!Ge){this.sensorPreset="custom";for(let e=0;e<this.sensorPresets.length;e++){const t=this.sensorPresets[e].value,a=this.isThirdPairValid&&t.b?Math.round(1/t.b):t.beta;if(this.heater.thermistor===t.thermistor&&this.heater.beta===a&&this.heater.c===t.c){this.sensorPreset=t;break}}}e.relatedTarget.style.maxWidth="390px"}},props:{heater:{type:Object,required:!0},index:Number,min:String,max:String,parameter:{type:String,required:!0},presetHeater:{type:Object,required:!0},title:String,unit:String},watch:{parameters:{deep:!0,handler:()=>Ge=!0}}},Ke=Ue,Je=Object(y["a"])(Ke,Ze,Ye,!1,null,null,null),Qe=Je.exports,et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-select",{on:{input:e.changeHeater},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(t,r){return a("optgroup",{attrs:{label:r}},e._l(t,function(t){return a("option",{domProps:{value:t.value,textContent:e._s(t.text)}})}),0)}),0)},tt=[],at={props:{options:{type:Object,required:!0},value:{type:Number,required:!0}},methods:{changeHeater(e){this.$emit("input",e)}}},rt=at,st=(a("f780"),Object(y["a"])(rt,et,tt,!1,null,"602068ec",null)),it=st.exports,ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("td",[e._v("\n\t\t\t\t\t\t"+e._s(0==e.index?"Bed":"E"+(e.index-1))+"\n\t\t\t\t\t")]),a("td",[a("b-select",{model:{value:e.heater.heater,callback:function(t){e.$set(e.heater,"heater",t)},expression:"heater.heater"}},e._l(e.board.lpc.mosfets,function(t){return a("option",{domProps:{value:t.value}},[e._v(e._s(t.text))])}),0)],1),a("td",{staticClass:"limit"},[a("b-input-group",{attrs:{append:"C"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset",value:e.getPresetHeater(e.index).temp_limit,expression:"getPresetHeater(index).temp_limit"}],attrs:{title:"Maximum allowed temperature of this heater before a temperature fault is raised",min:"-273",max:"1999",type:"number",step:"any",required:""},model:{value:e.heater.temp_limit,callback:function(t){e.$set(e.heater,"temp_limit",e._n(t))},expression:"heater.temp_limit"}})],1)],1),a("td",{staticClass:"pwm"},[a("b-input-group",{attrs:{append:"%"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset",value:e.getPresetHeater(e.index).scale_factor,expression:"getPresetHeater(index).scale_factor"}],attrs:{title:"Final PID heater scale factor. You can change this to compensate voltage and heater resistance parameters",disabled:e.isPwmLimitDisabled(e.index),min:"0",max:"100",type:"number",step:"any",required:""},model:{value:e.heater.scale_factor,callback:function(t){e.$set(e.heater,"scale_factor",e._n(t))},expression:"heater.scale_factor"}})],1)],1),a("td",{directives:[{name:"show",rawName:"v-show",value:!e.useSteinhartHart,expression:"!useSteinhartHart"}],staticClass:"r25"},[a("thermistor-input",{attrs:{heater:e.heater,"preset-heater":e.getPresetHeater(e.index),title:"Heater thermistor resistance at 25C",useSteinhartHart:!1,parameter:"thermistor",unit:"Ω",min:"1"}})],1),a("td",{directives:[{name:"show",rawName:"v-show",value:!e.useSteinhartHart,expression:"!useSteinhartHart"}],staticClass:"beta"},[a("thermistor-input",{attrs:{heater:e.heater,"preset-heater":e.getPresetHeater(e.index),title:"β model coefficient",useSteinhartHart:!1,parameter:"beta",unit:"K",min:"1"}})],1),a("td",{directives:[{name:"show",rawName:"v-show",value:e.useSteinhartHart,expression:"useSteinhartHart"}]},[a("thermistor-input",{attrs:{heater:e.heater,"preset-heater":e.getPresetHeater(e.index),title:"A coefficient of the Steinhart-Hart equation",useSteinhartHart:!0,parameter:"a"}})],1),a("td",{directives:[{name:"show",rawName:"v-show",value:e.useSteinhartHart,expression:"useSteinhartHart"}]},[a("thermistor-input",{attrs:{heater:e.heater,"preset-heater":e.getPresetHeater(e.index),title:"B coefficient of the Steinhart-Hart equation",useSteinhartHart:!0,parameter:"b"}})],1),a("td",{directives:[{name:"show",rawName:"v-show",value:e.template.firmware>1.16,expression:"template.firmware > 1.16"}]},[a("thermistor-input",{attrs:{heater:e.heater,"preset-heater":e.getPresetHeater(e.index),title:"C coefficient of the Steinhart-Hart equation. May be used to improve the β model parameters too",useSteinhartHart:e.useSteinhartHart,parameter:"c"}})],1),a("td",[a("b-select",{model:{value:e.heater.channel,callback:function(t){e.$set(e.heater,"channel",t)},expression:"heater.channel"}},e._l(e.board.lpc.thermistors,function(t){return a("option",{domProps:{value:t.value}},[e._v(e._s(t.text))])}),0)],1)])},nt=[],lt={beforeMount(){},components:{"thermistor-input":Qe,"sensor-select":it},computed:{},methods:{getPresetHeater(e){return e>=this.preset.heaters.length?this.preset.heaters[this.preset.heaters.length-1]:this.preset.heaters[e]},isPwmLimitDisabled(e){return this.template.bed.present&&!this.template.bed.use_pid&&this.template.bed.heater==e||this.template.chamber.present&&!this.template.chamber.use_pid&&this.template.chamber.heater==e}},props:{index:Number,heater:Object,useSteinhartHart:Boolean}},pt=lt,mt=(a("dd0f"),Object(y["a"])(pt,ot,nt,!1,null,"c15904dc",null)),ct=mt.exports,ut={components:{"thermistor-input":Qe,"sensor-select":it,"heater-row":ct},computed:{bedPid:{get(){return this.template.bed.use_pid?"pid":"bangbang"},set(e){this.template.bed.use_pid="pid"==e}},canAddNozzle(){const e=this.board.maxHeaters-(this.template.bed.present?1:0);return this.template.num_nozzles<e},canRemoveNozzle(){return this.template.num_nozzles>0}},data(){return{heaters:[],sensors:{Thermistors:[],PT1000:[],"MAX31855 (K-Type Thermocouple)":[],"MAX31856 (K-Type Thermocouple)":[],"MAX31865 (PT100)":[]},useSteinhartHart:!1}},methods:{},beforeMount(){for(let e=0;e<this.board.maxHeaters;e++)this.heaters.push({value:e,text:this.template.lpc.heatOnPins[e],disabled:!1})}},dt=ut,ht=(a("a84b"),Object(y["a"])(dt,je,We,!1,null,"7ca89b4a",null)),bt=ht.exports,vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",[a("b-card",{attrs:{header:"Tool Preferences"}},[a("b-checkbox",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Generate an M116 code in the tpost macros"},model:{value:e.template.toolchange_wait_for_temperatures,callback:function(t){e.$set(e.template,"toolchange_wait_for_temperatures",t)},expression:"template.toolchange_wait_for_temperatures"}},[e._v("Wait for Temperatures to be Reached on Tool Change")]),a("b-checkbox",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"A T-code with the first tool number is generated at the end of config.g"},model:{value:e.template.generate_t_code,callback:function(t){e.$set(e.template,"generate_t_code",t)},expression:"template.generate_t_code"}},[e._v("Select First Tool on Start-Up")])],1),a("b-card",{staticClass:"mt-3",attrs:{"no-body":""}},[a("template",{slot:"header"},[a("span",{staticClass:"mt-2"},[e._v("Tools")]),a("b-button-group",{staticClass:"float-right"},[a("b-button",{attrs:{size:"sm",variant:"success"},on:{click:e.addTool}},[a("font-awesome-icon",{attrs:{icon:"plus"}}),e._v(" Add Tool")],1),a("b-button",{attrs:{size:"sm",variant:"danger",disabled:!e.canRemoveTool},on:{click:e.removeTool}},[a("font-awesome-icon",{attrs:{icon:"minus"}}),e._v(" Remove Tool")],1)],1)],1),a("table",{staticClass:"table mb-0"},[a("thead",[a("th",[e._v("Number")]),a("th",[e._v("Name")]),a("th",[e._v("Extruders")]),a("th",[e._v("Heaters")]),a("th",[e._v("XYZ Offsets (mm)")]),a("th",[e._v("Mixing Ratio")])]),a("tbody",e._l(e.template.tools,function(t,r){return a("tr",{key:r},[a("td",[a("b-form-input",{attrs:{type:"number",min:"0",step:"1",required:""},model:{value:t.number,callback:function(a){e.$set(t,"number",e._n(a))},expression:"tool.number"}})],1),a("td",[a("b-form-input",{attrs:{placeholder:"optional",type:"text"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"tool.name"}})],1),a("td",{staticClass:"pt-3"},[a("b-form-checkbox-group",{attrs:{buttons:"","button-variant":"outline-primary",size:"sm",name:"tool-extruders-"+r,options:e.extruders},model:{value:t.extruders,callback:function(a){e.$set(t,"extruders",a)},expression:"tool.extruders"}}),0==e.extruders.length?a("span",{staticClass:"text-muted"},[e._v("n/a")]):e._e()],1),a("td",{staticClass:"pt-3"},[a("b-form-checkbox-group",{attrs:{buttons:"","button-variant":"outline-primary",size:"sm",name:"tool-heaters-"+r,options:e.heaters},model:{value:t.heaters,callback:function(a){e.$set(t,"heaters",a)},expression:"tool.heaters"}}),0==e.heaters.length?a("span",{staticClass:"text-muted"},[e._v("n/a")]):e._e()],1),a("td",[a("b-form-row",[a("b-col",[a("b-form-input",{attrs:{type:"number",step:"any",required:""},model:{value:t.x_offset,callback:function(a){e.$set(t,"x_offset",e._n(a))},expression:"tool.x_offset"}})],1),a("b-col",[a("b-form-input",{attrs:{type:"number",step:"any",required:""},model:{value:t.y_offset,callback:function(a){e.$set(t,"y_offset",e._n(a))},expression:"tool.y_offset"}})],1),a("b-col",[a("b-form-input",{attrs:{type:"number",step:"any",required:""},model:{value:t.z_offset,callback:function(a){e.$set(t,"z_offset",e._n(a))},expression:"tool.z_offset"}})],1)],1)],1),a("td",{staticClass:"pt-3"},[a("mix-ratio",{directives:[{name:"show",rawName:"v-show",value:0!=t.mix_ratio.length,expression:"tool.mix_ratio.length != 0"}],attrs:{tool:t,index:r}}),0==t.mix_ratio.length?a("span",{staticClass:"text-muted"},[e._v("n/a")]):e._e()],1)])}),0)])],2)],1)},ft=[],_t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-button",{attrs:{id:"mix"+e.index,size:"sm",variant:"primary"}},[e._v(e._s(e.tool.mix_ratio.join(":")))]),a("b-popover",{ref:"popover",attrs:{target:"mix"+e.index,placement:"topleft",show:e.popoverShown,title:"Set Mix Ratio",triggers:"focus"},on:{"update:show":function(t){e.popoverShown=t}}},[a("b-row",{attrs:{"align-v":"center"}},[a("b-col",{attrs:{cols:"8"}},e._l(e.tool.mix_ratio,function(t,r){return a("b-row",{key:r,staticClass:"mb-2"},[a("b-col",{staticClass:"pt-2 pr-1",attrs:{cols:"auto"}},[e._v("\n\t\t\t\t\t\t"+e._s("E"+r+":")+"\n\t\t\t\t\t")]),a("b-col",[a("b-input",{attrs:{type:"number",step:"any"},model:{value:e.mixRatio[r],callback:function(t){e.$set(e.mixRatio,r,e._n(t))},expression:"mixRatio[idx]"}})],1)],1)}),1),a("b-col",{attrs:{cols:"4"}},[a("h4",[e._v("Sum:")]),a("h4",{class:{"text-success":e.mixValid,"text-danger":!e.mixValid}},[e._v(e._s(e.mixSum.toFixed(2)))])])],1),a("b-row",{staticClass:"mt-2"},[a("b-col",{staticClass:"text-center"},[a("b-button",{attrs:{variant:"primary",disabled:!e.mixValid},on:{click:e.setMix}},[a("font-awesome-icon",{attrs:{icon:"check"}}),e._v(" Set Mix\n\t\t\t\t")],1)],1)],1)],1)],1)},gt=[],xt={computed:{mixSum(){let e=0;return this.mixRatio.forEach(function(t){e+=t}),parseFloat(e.toFixed(2))},mixValid(){return 1==this.mixSum}},data(){return{popoverShown:!1,mixRatio:[]}},methods:{setMix(){this.tool.mix_ratio=this.mixRatio.slice(),this.popoverShown=!1}},beforeMount(){this.mixRatio=this.tool.mix_ratio.slice()},props:{index:{type:Number,required:!0},tool:{type:Object,required:!0}},watch:{"tool.mix_ratio":function(e,t){this.mixRatio=e.slice()}}},yt=xt,wt=Object(y["a"])(yt,_t,gt,!1,null,null,null),Pt=wt.exports,Ct={components:{"mix-ratio":Pt},computed:{canRemoveTool(){return this.template.tools.length>0}},data(){return{extruders:[],heaters:[]}},beforeMount(){this.template.heaters.forEach(function(e,t){0==t&&!this.template.bed_is_nozzle||this.template.bed.present&&this.template.bed.heater==t||this.template.chamber.present&&this.template.chamber.heater==t||"bltouch"==this.template.probe.type&&this.template.probe.pwm_channel==t||this.heaters.push({text:0==t?"Bed":`E${t-1}`,value:t})},this);for(let e=3;e<this.template.drives.length;e++)this.extruders.push({text:`E${e-3}`,value:e-3})}},kt=Ct,St=Object(y["a"])(kt,vt,ft,!1,null,null,null),Nt=St.exports,Dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",[a("b-alert",{attrs:{show:""}},[a("i",{staticClass:"fas fa-info"}),a("strong",[e._v("Note")]),a("br"),e._v(" Due to memory constraints, the LPC Port limits the maximum number of probe points to 121 points with a maximum X row points of 36, and Delta maximum calibration points of 16.\n\t")]),e.template.firmware<1.21&&"delta"!=e.template.geometry.type?a("b-card",{attrs:{"no-body":"",header:"Bed Probing"}},[a("div",{staticClass:"card-body"},[a("b-form-row",[a("b-col",[a("b-form-group",{attrs:{label:"Number of Probe Points:"}},[a("b-select",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Number of probe points to use in bed.g"},on:{input:e.setNumProbePoints},model:{value:e.template.probe.points.length,callback:function(t){e.$set(e.template.probe.points,"length",t)},expression:"template.probe.points.length"}},[e.template.firmware>1.2?a("option",{attrs:{value:"0"}},[e._v("None")]):e._e(),a("option",{attrs:{value:"3"}},[e._v("3")]),a("option",{attrs:{value:"4"}},[e._v("4")]),a("option",{attrs:{value:"5"}},[e._v("5")])])],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"X Offset:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Distance between bed corners and X probe points",max:e.template.geometry.maxes[0]-e.template.geometry.mins[0],type:"number",step:"any",required:""},model:{value:e.template.compensation_x_offset,callback:function(t){e.$set(e.template,"compensation_x_offset",e._n(t))},expression:"template.compensation_x_offset"}})],1)],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Bed Length:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Length of the bed in X direction",min:"1",max:e.template.geometry.maxes[0]-e.template.geometry.mins[0],type:"number",step:"any",required:""},model:{value:e.template.bed.length,callback:function(t){e.$set(e.template.bed,"length",e._n(t))},expression:"template.bed.length"}})],1)],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Y Offset:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Distance between bed corners and Y probe points",max:e.template.geometry.maxes[1]-e.template.geometry.mins[1],type:"number",step:"any",required:""},model:{value:e.template.compensation_y_offset,callback:function(t){e.$set(e.template,"compensation_y_offset",e._n(t))},expression:"template.compensation_y_offset"}})],1)],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Bed Width:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Width of the bed in Y direction",max:e.template.geometry.maxes[1]-e.template.geometry.mins[1],type:"number",step:"any",required:""},model:{value:e.template.bed.width,callback:function(t){e.$set(e.template.bed,"width",e._n(t))},expression:"template.bed.width"}})],1)],1)],1)],1),a("b-checkbox",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Home all axes in bed.g before any points are probed"},model:{value:e.template.home_first,callback:function(t){e.$set(e.template,"home_first",t)},expression:"template.home_first"}},[e._v("Home Axes before Automatic Bed Compensation")])],1),a("points-table",{attrs:{minX:e.template.geometry.mins[0],minY:e.template.geometry.mins[1],maxX:e.template.geometry.maxes[0],maxY:e.template.geometry.maxes[1]},model:{value:e.template.probe.points,callback:function(t){e.$set(e.template.probe,"points",t)},expression:"template.probe.points"}})],1):e._e(),"delta"==e.template.geometry.type?a("b-card",{attrs:{"no-body":"",header:"Bed Probing for Delta Calibration"}},[a("div",{staticClass:"base"},[a("b-img",{attrs:{center:"",src:"images/DeltaBase.png",fluid:""}}),3==e.template.peripheral_points?a("b-img",{staticClass:"overlay",attrs:{center:"",src:"images/Delta+3.png",fluid:""}}):e._e(),6==e.template.peripheral_points?a("b-img",{staticClass:"overlay",attrs:{center:"",src:"images/Delta+6.png",fluid:""}}):e._e(),10==e.template.peripheral_points?a("b-img",{staticClass:"overlay",attrs:{center:"",src:"images/Delta+10.png",fluid:""}}):e._e(),12==e.template.peripheral_points?a("b-img",{staticClass:"overlay",attrs:{center:"",src:"images/Delta+12.png",fluid:""}}):e._e(),3==e.template.halfway_points?a("b-img",{staticClass:"overlay",attrs:{center:"",src:"images/Delta+inner3.png",fluid:""}}):e._e(),6==e.template.halfway_points?a("b-img",{staticClass:"overlay",attrs:{center:"",src:"images/Delta+inner6.png",fluid:""}}):e._e()],1),a("br"),a("div",{staticClass:"card-body"},[a("b-form-row",[a("b-col",[a("b-form-group",{attrs:{label:"Number of Peripheral Points:"}},[a("b-select",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Number of outer probe points"},model:{value:e.template.peripheral_points,callback:function(t){e.$set(e.template,"peripheral_points",e._n(t))},expression:"template.peripheral_points"}},[a("option",{attrs:{value:"3"}},[e._v("3")]),a("option",{attrs:{value:"6"}},[e._v("6")]),a("option",{attrs:{value:"10"}},[e._v("10")]),a("option",{attrs:{value:"12"}},[e._v("12")])])],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Number of Halfway Points:"}},[a("b-select",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Number of inner probe points"},model:{value:e.template.halfway_points,callback:function(t){e.$set(e.template,"halfway_points",e._n(t))},expression:"template.halfway_points"}},[a("option",{attrs:{value:"0"}},[e._v("0")]),a("option",{attrs:{value:"3"}},[e._v("3")]),a("option",{attrs:{value:"6",disabled:e.template.peripheral_points+6>16}},[e._v("6")])])],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Number of Calibration Factors:"}},[a("b-select",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Number of adjustment factors used for auto-calibration"},model:{value:e.template.calibration_factors,callback:function(t){e.$set(e.template,"calibration_factors",e._n(t))},expression:"template.calibration_factors"}},[a("option",{attrs:{value:"3"}},[e._v("3")]),a("option",{attrs:{value:"6",disabled:e.template.peripheral_points+e.template.halfway_points<6}},[e._v("6")]),a("option",{attrs:{value:"10",disabled:e.template.peripheral_points+e.template.halfway_points<10}},[e._v("10")]),a("option",{attrs:{value:"12",disabled:e.template.peripheral_points+e.template.halfway_points<12}},[e._v("12")])])],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Probing Radius:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Radius of the outer probe points",max:e.template.geometry.delta_radius,type:"number",step:"any",required:""},model:{value:e.template.probe_radius,callback:function(t){e.$set(e.template,"probe_radius",e._n(t))},expression:"template.probe_radius"}})],1)],1)],1)],1),a("b-checkbox",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Home all towers in bed.g before any points are probed"},model:{value:e.template.home_first,callback:function(t){e.$set(e.template,"home_first",t)},expression:"template.home_first"}},[e._v("Home Towers before Auto-Calibration")])],1),a("points-table",{attrs:{minX:-e.template.probe_radius,minY:-e.template.probe_radius,maxX:e.template.probe_radius,maxY:e.template.probe_radius,disableLastZ:!0},model:{value:e.template.probe.points,callback:function(t){e.$set(e.template.probe,"points",t)},expression:"template.probe.points"}})],1):e._e(),a("b-card",{staticClass:"mt-3",attrs:{header:"Bed Probing for Mesh Bed Compensation"}},[a("div",["delta"!=e.template.geometry.type?a("b-img",{attrs:{center:"",src:"images/Mesh.png",fluid:""}}):e._e(),a("br")],1),a("b-form-row",{staticClass:"grid-compensation"},["delta"!=e.template.geometry.type?a("b-col",[a("b-form-group",{attrs:{label:"X Minimum:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Minimum X coordinate of the probe points",min:e.template.geometry.mins[0],max:e.template.geometry.maxes[0],type:"number",step:"any",required:""},model:{value:e.template.mesh.x_min,callback:function(t){e.$set(e.template.mesh,"x_min",e._n(t))},expression:"template.mesh.x_min"}})],1)],1)],1):e._e(),"delta"!=e.template.geometry.type?a("b-col",[a("b-form-group",{attrs:{label:"X Maximum:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Maximum X coordinate of the probe points",min:e.template.geometry.mins[0],max:e.template.geometry.maxes[0],type:"number",step:"any",required:""},model:{value:e.template.mesh.x_max,callback:function(t){e.$set(e.template.mesh,"x_max",e._n(t))},expression:"template.mesh.x_max"}})],1)],1)],1):e._e(),"delta"!=e.template.geometry.type?a("b-col",[a("b-form-group",{attrs:{label:"Y Minimum:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Minimum Y coordinate of the probe points",min:e.template.geometry.mins[1],max:e.template.geometry.maxes[1],type:"number",step:"any",required:""},model:{value:e.template.mesh.y_min,callback:function(t){e.$set(e.template.mesh,"y_min",e._n(t))},expression:"template.mesh.y_min"}})],1)],1)],1):e._e(),"delta"!=e.template.geometry.type?a("b-col",[a("b-form-group",{attrs:{label:"Y Maximum:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Maximum Y coordinate of the probe points",min:e.template.geometry.mins[1],max:e.template.geometry.maxes[1],type:"number",step:"any",required:""},model:{value:e.template.mesh.y_max,callback:function(t){e.$set(e.template.mesh,"y_max",e._n(t))},expression:"template.mesh.y_max"}})],1)],1)],1):e._e(),"delta"==e.template.geometry.type?a("b-col",[a("b-form-group",{attrs:{label:"Probing Radius:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Radius of the probe points",min:1,max:e.template.geometry.delta_radius,type:"number",step:"any",required:""},model:{value:e.template.mesh.radius,callback:function(t){e.$set(e.template.mesh,"radius",e._n(t))},expression:"template.mesh.radius"}})],1)],1)],1):e._e(),a("b-col",[a("b-form-group",{attrs:{label:"Grid Spacing:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Spacing between the probe points",min:1,max:e.maxGridSpacing,type:"number",step:"any",required:""},model:{value:e.template.mesh.spacing,callback:function(t){e.$set(e.template.mesh,"spacing",e._n(t))},expression:"template.mesh.spacing"}})],1)],1)],1)],1),"delta"!=e.template.geometry.type?a("div",[a("br"),a("b-form-row",[Math.round((e.template.mesh.x_max-e.template.mesh.x_min)/e.template.mesh.spacing)>32?a("span",{staticStyle:{color:"red","font-weight":"bold"}},[e._v("WARNING!!!")]):e._e(),e._v("Number of X Probe Points: "+e._s(Math.round((e.template.mesh.x_max-e.template.mesh.x_min)/e.template.mesh.spacing)))]),a("b-form-row",[e._v("Number of Y Probe Points: "+e._s(Math.round((e.template.mesh.y_max-e.template.mesh.y_min)/e.template.mesh.spacing)))]),a("b-form-row",[e.calculateMaxProbePoints>121?a("span",{staticStyle:{color:"red","font-weight":"bold"}},[e._v("WARNING!!!")]):e._e(),e._v(" Total Probe Points: "+e._s(e.calculateMaxProbePoints))])],1):e._e()],1),a("b-card",{staticClass:"mt-3",attrs:{header:"Orthogonal Axis Compensation"}},[a("b-form-checkbox",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Check this to enable orthogonal axis compensation via M556"},model:{value:e.template.orthogonal.compensation,callback:function(t){e.$set(e.template.orthogonal,"compensation",t)},expression:"template.orthogonal.compensation"}},[e._v("Enable Orthogonal Axis Compensation")]),e.template.orthogonal.compensation?a("b-form-row",{staticClass:"mt-3 pl-4"},[a("b-col",[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Measured Height:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Height of the deviations measured for orthogonal axis compensation",min:"1",type:"number",step:"any",required:""},model:{value:e.template.orthogonal.height,callback:function(t){e.$set(e.template.orthogonal,"height",e._n(t))},expression:"template.orthogonal.height"}})],1)],1)],1),a("b-col",[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Deviation in X:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Deviation in XY direction",type:"number",step:"any",required:""},model:{value:e.template.orthogonal.deviations[0],callback:function(t){e.$set(e.template.orthogonal.deviations,0,e._n(t))},expression:"template.orthogonal.deviations[0]"}})],1)],1)],1),a("b-col",[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Deviation in Y:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Deviation in YZ direction",type:"number",step:"any",required:""},model:{value:e.template.orthogonal.deviations[1],callback:function(t){e.$set(e.template.orthogonal.deviations,1,e._n(t))},expression:"template.orthogonal.deviations[1]"}})],1)],1)],1),a("b-col",[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Deviation in Z:"}},[a("b-input-group",{attrs:{append:"mm"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Deviation in XZ direction",type:"number",step:"any",required:""},model:{value:e.template.orthogonal.deviations[2],callback:function(t){e.$set(e.template.orthogonal.deviations,2,e._n(t))},expression:"template.orthogonal.deviations[2]"}})],1)],1)],1)],1):e._e()],1)],1)},Tt=[],Mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("table",{staticClass:"table table-sm mb-0"},[e._m(0),a("tbody",e._l(e.value,function(t,r){return a("tr",{key:r},[a("td",{staticClass:"text-center pt-2"},[e._v(e._s(r+1))]),a("td",[a("b-input-group",{attrs:{append:"mm",size:"sm"}},[a("b-form-input",{attrs:{min:e.minX,max:e.maxX,type:"number",step:"any",required:""},model:{value:t.x,callback:function(a){e.$set(t,"x",e._n(a))},expression:"point.x"}})],1)],1),a("td",[a("b-input-group",{attrs:{append:"mm",size:"sm"}},[a("b-form-input",{attrs:{min:e.minY,max:e.maxY,type:"number",step:"any",required:""},model:{value:t.y,callback:function(a){e.$set(t,"y",e._n(a))},expression:"point.y"}})],1)],1),a("td",[a("b-input-group",{attrs:{append:"mm",size:"sm"}},[a("b-form-input",{attrs:{disabled:e.disableLastZ&&r==e.value.length-1,type:"number",step:"any",required:""},model:{value:t.z,callback:function(a){e.$set(t,"z",e._n(a))},expression:"point.z"}})],1)],1)])}),0)])},$t=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("th",{staticClass:"text-center"},[e._v("Probe Point")]),a("th",[e._v("X Coordinate")]),a("th",[e._v("Y Coordinate")]),a("th",[e._v("Height Correction")])])}],Et={props:{value:{type:Array,required:!0},minX:Number,minY:Number,maxX:Number,maxY:Number,disableLastZ:Boolean}},zt=Et,Ft=Object(y["a"])(zt,Mt,$t,!1,null,null,null),Ht=Ft.exports,qt={components:{"points-table":Ht},computed:{maxGridSpacing(){return"delta"===this.template.geometry.type?this.template.mesh.radius/2:this.template.bed.width/2},calculateMaxProbePoints(){return Math.round((this.template.mesh.x_max-this.template.mesh.x_min)/this.template.mesh.spacing*((this.template.mesh.y_max-this.template.mesh.y_min)/this.template.mesh.spacing))}},methods:{setNumProbePoints(e){this.recalculateProbePoints(parseInt(e))}}},Bt=qt,Ot=(a("225b"),Object(y["a"])(Bt,Dt,Tt,!1,null,"aea31536",null)),At=Ot.exports,It=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",[e.board.hasEthernet?a("b-alert",{attrs:{show:""}},[a("i",{staticClass:"fas fa-info"}),a("strong",[e._v("Note:")]),e._v(" Do not enable Networking if your board does not support ethernet. Enabling netwoking without a PHY chip connected can cause the CPU to freeze.\n\t")]):e._e(),e.board.hasEthernet?e._e():a("b-alert",{attrs:{show:""}},[a("i",{staticClass:"fas fa-info"}),e._v(" This board does not support ethernet networking.\n\t")]),e.board.hasEthernet?a("b-card",{attrs:{header:"Network Settings"}},[a("b-form-checkbox",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Check this to enable networking features (M552 S1)"},model:{value:e.template.network.enabled,callback:function(t){e.$set(e.template.network,"enabled",t)},expression:"template.network.enabled"}},[e._v("Enable Network")]),e.template.network.enabled?a("div",{staticClass:"pl-4"},[a("b-form-row",{staticClass:"mt-3"},[a("b-col",[a("b-form-group",{attrs:{label:"Printer Name:"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Name of your printer (M550). If you use mDNS, you can access your printer via Myprinter.local",maxlength:"40",type:"text",required:""},model:{value:e.template.network.name,callback:function(t){e.$set(e.template.network,"name","string"===typeof t?t.trim():t)},expression:"template.network.name"}})],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Password:"}},[a("b-form-input",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Optional password to protect your printer from others on your local network (M551)",maxlength:"64",placeholder:"reprap",type:"text"},model:{value:e.template.network.password,callback:function(t){e.$set(e.template.network,"password","string"===typeof t?t.trim():t)},expression:"template.network.password"}})],1)],1)],1),e.board.hasWiFi?a("b-form-row",[a("b-col",[a("b-form-group",{attrs:{label:"WiFi Access Point Name:"}},[a("b-form-input",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Name of the SSID to connect to. Alternatively ou can connect manually via M587",maxlength:"32",placeholder:"configure manually",type:"text"},model:{value:e.template.network.ssid,callback:function(t){e.$set(e.template.network,"ssid","string"===typeof t?t.trim():t)},expression:"template.network.ssid"}})],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Password:"}},[a("b-form-input",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Corresponding password of your SSID",maxlength:"64",placeholder:"none",type:"text"},model:{value:e.template.network.ssid_password,callback:function(t){e.$set(e.template.network,"ssid_password","string"===typeof t?t.trim():t)},expression:"template.network.ssid_password"}})],1)],1)],1):e._e(),e.board.hasEthernet?a("b-form-row",[a("b-col",[a("b-form-group",{attrs:{label:"MAC Address:"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"MAC address of your machine. This is normally auto-generated",formatter:e.formatMAC,state:e.isValidMAC(e.template.network.mac_address),maxlength:"17",placeholder:"automatically generated",type:"text"},model:{value:e.template.network.mac_address,callback:function(t){e.$set(e.template.network,"mac_address","string"===typeof t?t.trim():t)},expression:"template.network.mac_address"}})],1)],1)],1):e._e(),a("b-checkbox",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Use DHCP to acquire a dynamic IP configuration from your router (M552)"},model:{value:e.template.network.dhcp,callback:function(t){e.$set(e.template.network,"dhcp",t)},expression:"template.network.dhcp"}},[e._v("Acquire Dynamic IP Address via DHCP")]),e.template.network.dhcp?e._e():a("b-form-row",{staticClass:"pl-4 mt-3"},[a("b-col",[a("b-form-group",{attrs:{label:"IP Address:"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Static IP address of your printer (M552). This value should be unique on your local network",state:e.isValidIP(this.template.network.ip),maxlength:"15",type:"text",required:""},model:{value:e.template.network.ip,callback:function(t){e.$set(e.template.network,"ip","string"===typeof t?t.trim():t)},expression:"template.network.ip"}})],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Subnet Mask:"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Netmask of your local network (M553)",state:e.isValidNetmask(this.template.network.netmask),maxlength:"15",type:"text",required:""},model:{value:e.template.network.netmask,callback:function(t){e.$set(e.template.network,"netmask","string"===typeof t?t.trim():t)},expression:"template.network.netmask"}})],1)],1),a("b-col",[a("b-form-group",{attrs:{label:"Gateway:"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"This should be the router's IP address on your local network (M554)",state:e.isValidIP(this.template.network.gateway),maxlength:"15",type:"text",required:""},model:{value:e.template.network.gateway,callback:function(t){e.$set(e.template.network,"gateway","string"===typeof t?t.trim():t)},expression:"template.network.gateway"}})],1)],1)],1),a("b-checkbox",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Enable HyperText Transmission Protocol to provide access to the web interface"},model:{value:e.template.network.protocols.http,callback:function(t){e.$set(e.template.network.protocols,"http",t)},expression:"template.network.protocols.http"}},[e._v("Enable HTTP (required for Duet Web Control)")])],1):e._e()],1):e._e()],1)},Lt=[],Rt={computed:{},methods:{formatMAC(e,t){return e.toUpperCase()},isValidIP(e){let t=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/.exec(e);return null!=t&&(t[1]<255&&t[2]<255&&t[3]<255&&t[4]<255)},isValidNetmask(e){let t=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/.exec(e);return null!=t&&(t[1]<256&&t[2]<256&&t[3]<256&&t[4]<256)},isValidMAC(e){return""==e||/^[\dA-F][\dA-F]:[\dA-F][\dA-F]:[\dA-F][\dA-F]:[\dA-F][\dA-F]:[\dA-F][\dA-F]:[\dA-F][\dA-F]$/.test(e)}}},Vt=Rt,jt=Object(y["a"])(Vt,It,Lt,!1,null,null,null),Wt=jt.exports,Zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",[a("b-card",{attrs:{"no-body":""}},[e.freeMosfets.length>0?a("b-alert",{attrs:{show:""}},[a("span",[a("strong",[e._v("Hint: ")]),e._v("Part cooling fans should not enable thermostatic control. Thermostatic control monitors the temp of the heaters and turns on when over the trigger point, and off when under the trigger point.")])]):e._e(),0==e.freeMosfets.length?a("b-alert",{attrs:{show:""}},[a("span",[e._v("There are no more free mosfests to use for part cooling or thermotatic control.")])]):e._e(),a("template",{slot:"header"},[a("span",{staticClass:"mt-2"},[e._v("Cooling Fans")]),a("b-button-group",{staticClass:"float-right"},[a("b-button",{attrs:{size:"sm",variant:"success",disabled:!e.canAddFan},on:{click:e.addFan}},[a("font-awesome-icon",{attrs:{icon:"plus"}}),e._v(" Add Fan")],1),a("b-button",{attrs:{size:"sm",variant:"danger",disabled:!e.canRemoveFan},on:{click:e.removeFan}},[a("font-awesome-icon",{attrs:{icon:"minus"}}),e._v(" Remove Fan")],1)],1)],1),e.freeMosfets.length>0?a("table",{staticClass:"table mb-0"},[a("thead",[a("th",[e._v("Name")]),a("th",[e._v("Speed")]),a("th",[e._v("Inverted")]),a("th",[e._v("Frequency")]),a("th",[e._v("Thermostatic Control")]),a("th",[e._v("Monitored Heaters")]),a("th",[e._v("Thermostatic Mode Trigger Temperature")]),a("th",{staticClass:"output_pin"},[e._v("Output Pin")])]),a("tbody",e._l(e.template.fans,function(t,r){return a("tr",{key:r},[a("td",{staticClass:"pt-3"},[e._v("FAN"+e._s(r))]),a("td",[a("b-input-group",{attrs:{append:"%"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset",value:e.getFanPreset(r).value,expression:"getFanPreset(index).value"}],attrs:{title:"Initial value of this fan when turned on",min:"0",max:"100",type:"number",step:"any",required:""},model:{value:t.value,callback:function(a){e.$set(t,"value",e._n(a))},expression:"fan.value"}})],1)],1),a("td",[a("b-form-radio-group",{directives:[{name:"preset",rawName:"v-preset",value:e.getFanPreset(r).inverted,expression:"getFanPreset(index).inverted"}],attrs:{buttons:"","button-variant":"outline-primary",title:"Invert fan PWM signal (required for 4-pin PWM cooling fans)",name:"fan-inverted-"+r},model:{value:t.inverted,callback:function(a){e.$set(t,"inverted",a)},expression:"fan.inverted"}},[a("b-form-radio",{attrs:{value:!0}},[e._v("Yes")]),a("b-form-radio",{attrs:{value:!1}},[e._v("No")])],1)],1),a("td",[a("b-input-group",{attrs:{append:"Hz"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset",value:e.getFanPreset(r).frequency,expression:"getFanPreset(index).frequency"}],attrs:{title:"PWM frequency of this fan. On LPC boards, this should be generally be set to 250Hz to match the hotend PWM frequency",type:"number",min:"0",max:"65535",step:"any",required:""},model:{value:t.frequency,callback:function(a){e.$set(t,"frequency",e._n(a))},expression:"fan.frequency"}})],1)],1),a("td",[a("b-form-radio-group",{directives:[{name:"preset",rawName:"v-preset",value:e.getFanPreset(r).thermostatic,expression:"getFanPreset(index).thermostatic"}],attrs:{buttons:"","button-variant":"outline-primary",title:"Enable thermostatic control for this fan",name:"fan-thermostatic-"+r},model:{value:t.thermostatic,callback:function(a){e.$set(t,"thermostatic",a)},expression:"fan.thermostatic"}},[a("b-form-radio",{attrs:{value:!0}},[e._v("Yes")]),a("b-form-radio",{attrs:{value:!1}},[e._v("No")])],1)],1),a("td",[a("b-form-checkbox-group",{directives:[{name:"preset",rawName:"v-preset",value:e.getFanPreset(r).heaters,expression:"getFanPreset(index).heaters"}],attrs:{buttons:"","button-variant":"outline-primary",title:"Heaters to monitor for thermostatic control",disabled:!t.thermostatic,name:"fan-heaters-"+r,options:e.heaters},model:{value:t.heaters,callback:function(a){e.$set(t,"heaters",a)},expression:"fan.heaters"}}),0==e.heaters.length?a("span",{staticClass:"text-muted"},[e._v("n/a")]):e._e()],1),a("td",[a("b-input-group",{attrs:{append:"C"}},[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset",value:e.getFanPreset(r).trigger_temperature,expression:"getFanPreset(index).trigger_temperature"}],attrs:{title:"Temperature at which the thermostatically-controlled fan is activated",disabled:!t.thermostatic,type:"number",min:"-273",max:"1999",step:"any",required:""},model:{value:t.trigger_temperature,callback:function(a){e.$set(t,"trigger_temperature",e._n(a))},expression:"fan.trigger_temperature"}})],1)],1),a("td",[a("b-select",{model:{value:t.fanPin,callback:function(a){e.$set(t,"fanPin",a)},expression:"fan.fanPin"}},e._l(e.freeMosfets,function(t){return a("option",{domProps:{value:t.value}},[e._v(e._s(t.text))])}),0)],1)])}),0)]):e._e()],2),a("b-card",{staticClass:"mt-3",attrs:{header:"Leds"}},[a("b-form-group",{attrs:{label:"Diagnostic LED:"}},[a("b-select",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"LED to use for Diagnostics"},model:{value:e.template.lpc.diagnosticPin,callback:function(t){e.$set(e.template.lpc,"diagnosticPin",t)},expression:"template.lpc.diagnosticPin"}},[e._l(this.board.lpc.LEDs,function(t,r){return a("option",{domProps:{value:t.value,textContent:e._s(t.text)}})}),a("option",{attrs:{value:"NoPin"}},[e._v("No LED")])],2)],1)],1),a("b-card",{staticClass:"mt-3",attrs:{header:"LCD"}},[a("span",[e._v("Enable LCD (ST9720 LCD only):   ")]),a("b-form-radio-group",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{buttons:"","button-variant":"outline-primary",title:"Enable LCD Support"},model:{value:e.template.lpc.lcdEnabled,callback:function(t){e.$set(e.template.lpc,"lcdEnabled",t)},expression:"template.lpc.lcdEnabled"}},[a("b-form-radio",{attrs:{value:!0}},[e._v("Yes")]),a("b-form-radio",{attrs:{value:!1}},[e._v("No")])],1),e.template.lpc.lcdEnabled?a("table",{staticClass:"table mb-0"},[a("thead",[a("th",[e._v("CS Pin")]),a("th",[e._v("Beep Pin")]),a("th",[e._v("EncoderA Pin")]),a("th",[e._v("EncoderB Pin")]),a("th",[e._v("EncoderSW Pin")]),a("th",[e._v("DC Pin")]),a("th",[e._v("Panel Button Pin")])]),a("tbody",[a("tr",[a("td",[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"LCD Chip Select Pin"},model:{value:e.template.lpc.lcd.lcdCSPin,callback:function(t){e.$set(e.template.lpc.lcd,"lcdCSPin",t)},expression:"template.lpc.lcd.lcdCSPin"}})],1),a("td",[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"LCD Beep Pin"},model:{value:e.template.lpc.lcd.lcdBeepPin,callback:function(t){e.$set(e.template.lpc.lcd,"lcdBeepPin",t)},expression:"template.lpc.lcd.lcdBeepPin"}})],1),a("td",[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"LCD Encoder A Pin"},model:{value:e.template.lpc.lcd.encoderPinA,callback:function(t){e.$set(e.template.lpc.lcd,"encoderPinA",t)},expression:"template.lpc.lcd.encoderPinA"}})],1),a("td",[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"LCD Encoder B Pin"},model:{value:e.template.lpc.lcd.encoderPinB,callback:function(t){e.$set(e.template.lpc.lcd,"encoderPinB",t)},expression:"template.lpc.lcd.encoderPinB"}})],1),a("td",[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"LCD Encoder Switch Pin"},model:{value:e.template.lpc.lcd.encoderPinSw,callback:function(t){e.$set(e.template.lpc.lcd,"encoderPinSw",t)},expression:"template.lpc.lcd.encoderPinSw"}})],1),a("td",[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"LCD DC Pin"},model:{value:e.template.lpc.lcd.lcdDCPin,callback:function(t){e.$set(e.template.lpc.lcd,"lcdDCPin",t)},expression:"template.lpc.lcd.lcdDCPin"}})],1),a("td",[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"LCD Panel Button Pin"},model:{value:e.template.lpc.lcd.panelButtonPin,callback:function(t){e.$set(e.template.lpc.lcd,"panelButtonPin",t)},expression:"template.lpc.lcd.panelButtonPin"}})],1)])])]):e._e()],1),a("b-card",{staticClass:"mt-3",attrs:{header:"SD Cards"}},[a("b-form-group",[a("span",[e._v("Internal SDCard SPI Frequency:   ")]),a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"Internal SDCard SPI Frequency (Hz)"},model:{value:e.template.lpc.internalSDCardSPIFrequencyHz,callback:function(t){e.$set(e.template.lpc,"internalSDCardSPIFrequencyHz",t)},expression:"template.lpc.internalSDCardSPIFrequencyHz"}})],1),a("span",[e._v("Enable External SDCard:   ")]),a("b-form-radio-group",{attrs:{buttons:"","button-variant":"outline-primary",title:"Enable External SDCard Support"},model:{value:e.template.lpc.externalSDCard.present,callback:function(t){e.$set(e.template.lpc.externalSDCard,"present",t)},expression:"template.lpc.externalSDCard.present"}},[a("b-form-radio",{attrs:{value:!0}},[e._v("Yes")]),a("b-form-radio",{attrs:{value:!1}},[e._v("No")])],1),e.template.lpc.externalSDCard.present?a("table",{staticClass:"table mb-0"},[a("thead",[a("th",[e._v("External SD CS Pin")]),a("th",[e._v("External SD CD Pin ")]),a("th",[e._v("External SPI Freqency")])]),a("tbody",[a("tr",[a("td",[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"External SDCard Chip Select Pin"},model:{value:e.template.lpc.externalSDCard.csPin,callback:function(t){e.$set(e.template.lpc.externalSDCard,"csPin",t)},expression:"template.lpc.externalSDCard.csPin"}})],1),a("td",[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"External SDCard Card Detect Pin"},model:{value:e.template.lpc.externalSDCard.cardDetectPin,callback:function(t){e.$set(e.template.lpc.externalSDCard,"cardDetectPin",t)},expression:"template.lpc.externalSDCard.cardDetectPin"}})],1),a("td",[a("b-form-input",{directives:[{name:"preset",rawName:"v-preset"}],attrs:{title:"External SDCard SPI Frequency (Hz)"},model:{value:e.template.lpc.externalSDCard.spiFrequencyHz,callback:function(t){e.$set(e.template.lpc.externalSDCard,"spiFrequencyHz",t)},expression:"template.lpc.externalSDCard.spiFrequencyHz"}})],1)])])]):e._e()],1),a("b-card",{staticClass:"mt-3",attrs:{header:"Miscellaneous"}},[a("label",{attrs:{for:"custom_settings"}},[e._v("Custom Settings for config.g:")]),a("label",{staticClass:"float-right"},[a("a",{attrs:{href:"https://duet3d.com/wiki/G-code",target:"_blank"}},[e._v("Full list of all available G-codes")])]),a("b-form-textarea",{attrs:{id:"custom_settings",rows:"4","max-rows":"8"},model:{value:e.template.custom_settings,callback:function(t){e.$set(e.template,"custom_settings",t)},expression:"template.custom_settings"}})],1)],1)},Yt=[],Xt={beforeMount(){this.board.lpc.mosfets.forEach(function(e,t){let a=!1;for(var r=0;r<this.template.heaters.length;r++)if(e.value==this.template.heaters[r].heater&&(0!=r||this.template.bed.present)){a=!0;break}0==a&&this.freeMosfets.push({text:e.text,value:e.value})},this);while(this.template.fans.length>this.freeMosfets.length)this.removeFan();if(this.template.fans.length>0&&-1==this.template.fans[0].fanPin)for(var e=0;e<this.template.fans.length;e++)e<this.template.lpc.fanPins.length&&(this.template.fans[e].fanPin=this.template.lpc.fanPins[e]);for(e=0;e<this.preset.fans.length;e++)e<this.preset.lpc.fanPins.length&&(this.preset.fans[e].fanPin=this.template.lpc.fanPins[e]);this.template.heaters.forEach(function(e,t){null!=e&&this.heaters.push({text:0==t?"Bed":`E${t-1}`,value:t})},this)},computed:{canAddFan(){return this.template.fans.length<this.freeMosfets.length},canRemoveFan(){return this.template.fans.length>0}},data(){return{heaters:[],freeMosfets:[]}},methods:{getFanPreset(e){return e<this.preset.fans.length?this.preset.fans[e]:this.preset.fans[this.preset.fans.length-1]}}},Gt=Xt,Ut=(a("4c71"),Object(y["a"])(Gt,Zt,Yt,!1,null,"af8bf6f0",null)),Kt=Ut.exports;r["default"].use(k["a"]);var Jt=new k["a"]({mode:"history",base:"/LPCConfigurator/",routes:[{path:"/Start",component:q},{path:"/General",component:se},{path:"/Motors",component:Me},{path:"/Endstops",component:Ve},{path:"/Heaters",component:bt},{path:"/Tools",component:Nt},{path:"/Compensation",component:At},{path:"/Network",component:Wt},{path:"/Finish",component:Kt},{path:"*",redirect:"/Start"}]});let Qt={board:Q.getBoard($.getDefaultTemplate().board),machine:"custom",preset:$.getDefaultTemplate(),template:$.getDefaultTemplate()},ea=!1,ta=Qt.template.geometry.mins.slice(),aa=Qt.template.geometry.maxes.slice();var ra={beforeCreate(){r["default"].mixin({beforeCreate(){for(let e in Qt)e.startsWith("_")||Object.defineProperty(this,e,{get(){return Qt[e]},set(t){Qt[e]=t}})},methods:{addNozzle(){this.template.num_nozzles++},removeNozzle(){this.template.num_nozzles--},addTool(){let e=Object.assign({},this.preset.tools[0]);if(e.number=this.template.tools.length,this.template.bed_is_nozzle&&0==e.number)e.heaters=[0];else{e.heaters=[];let t=0;for(let a=0;a<this.template.heaters.length;a++)if((!this.template.bed.present||this.template.bed.heater!=a)&&(!this.template.chamber.present||this.template.chamber.heater!=a)){if(e.number==t){e.heaters.push(a);break}t++}}e.number+3<this.template.drives.length?e.extruders=[e.number]:e.extruders=[],this.template.tools.push(e)},removeTool(){this.template.tools.pop()},addFan(){const e=Object.assign({},this.preset.fans[this.preset.fans.length-1]);this.template.fans.push(e)},removeFan(){this.template.fans.pop()}}}),r["default"].prototype.enforceConstraints=function(){this.preset.auto_save.enabled=this.preset.auto_save.enabled&&this.board.hasPowerFailureDetection,this.template.auto_save.enabled=this.template.auto_save.enabled&&this.board.hasPowerFailureDetection,this.template.geometry.low_dive_height=this.template.geometry.low_dive_height&&"delta"==this.template.geometry.type;for(let e=this.template.drives.length-1;e>=this.board.maxDrives;e--)this.template.drives.pop();this.template.probe.deploy=this.template.probe.deploy||"bltouch"==this.template.probe.type,this.template.drives.forEach(function(e,t){e.driver>=this.board.maxDrives&&(e.driver=t),(3==e.endstop_type&&"noprobe"==this.template.probe.type||4==e.endstop_type&&!this.board.hasMotorLoadDetection)&&(e.endstop_type=2)},this),"delta"==this.template.geometry.type?(this.template.drives[0].endstop_location=2,this.template.drives[1].endstop_location=2,this.template.drives[2].endstop_location=2):this.template.slow_homing=!1,this.template.board.startsWith("duetm")&&(this.template.probe.pwm_channel=64,this.template.probe.pwm_inverted=!1),this.template.bed_is_nozzle&&(0==this.template.bed.heater&&(this.template.bed.heater=this.template.chamber.present&&1==this.template.chamber.heater?2:1),0==this.template.chamber.heater&&(this.template.chamber.heater=this.template.bed.present&&1==this.template.bed.heater?2:1)),this.updateNozzles(),this.template.tools.forEach(function(e){if(Math.max(e.mix_ratio.length,1)!=Math.max(e.extruders.length,1)&&(e.mix_ratio=[],e.extruders.length>1)){let t=1;for(let a=1;a<e.extruders.length;a++){let a=parseFloat((1/e.extruders.length).toFixed(2));t-=a,e.mix_ratio.push(a)}e.mix_ratio.push(parseFloat(t.toFixed(2)))}let t=e.extruders.filter(e=>e+3<this.template.drives.length);t.length!=e.extruders.length&&(e.extruders=t);let a=e.heaters.filter(e=>0==e&&this.template.bed_is_nozzle||e>0&&(!this.template.bed.present||this.template.bed.heater!=e)&&(!this.template.chamber.present||this.template.chamber.heater!=e)&&e<this.template.heaters.length&&null!=this.template.heaters[e]);a.length!=e.heaters.length&&(e.heaters=a)},this),this.template.firmware>1.2&&"delta"!=this.template.geometry.type?this.template.probe.points=[]:this.template.firmware<1.21&&this.template.probe.points.length<3&&this.recalculateProbePoints(4),this.template.peripheral_points+this.template.halfway_points>16&&(this.template.halfway_points=3),this.template.calibration_factors>this.template.peripheral_points+this.template.halfway_points&&(this.template.calibration_factors=3);while(this.template.fans.length>this.board.maxFans)this.template.fans.pop()},r["default"].prototype.enforceConstraintsNextTick=function(){ea||(ea=!0,this.$nextTick(function(){this.enforceConstraints(),ea=!1}))},r["default"].prototype.updateNozzles=function(){let e=1;for(let t=1;t<this.board.maxHeaters;t++){let t=null;if(this.template.num_nozzles-e>=0){if(null==this.template.heaters[e]){const a=Math.min(this.preset.heaters.length-1,1);t=Object.assign({},this.preset.heaters[a]),e<this.template.lpc.heatOnPins.length&&(t.heater=this.template.lpc.heatOnPins[e]),e<this.template.lpc.tempSensePins.length&&(t.channel=this.template.lpc.tempSensePins[e]),this.template.heaters.push(t)}e++}else null!=this.template.heaters[e]&&this.template.heaters.splice(e,1)}},r["default"].prototype.recalculateProbePoints=function(e){if(void 0==e&&(e=this.template.probe.points.length),"delta"==this.template.geometry.type){if(!isNumber(this.template.probe_radius)||!isNumber(this.template.probe.x_offset)||!isNumber(this.template.probe.y_offset))return;this.template.probe.points=[];for(let e=0;e<this.template.peripheral_points;e++){let t=this.template.probe_radius*Math.sin(2*Math.PI*e/this.template.peripheral_points),a=this.template.probe_radius*Math.cos(2*Math.PI*e/this.template.peripheral_points),r=Math.sqrt(Math.pow(t+this.template.probe.x_offset,2)+Math.pow(a+this.template.probe.y_offset,2))+.1;if(r>this.template.probe_radius){let e=this.template.probe_radius/r;t*=e,a*=e}this.template.probe.points.push({x:t,y:a,z:0})}for(let e=0;e<this.template.halfway_points;e++){let t=this.template.probe_radius/2*Math.sin(2*Math.PI*e/this.template.halfway_points),a=this.template.probe_radius/2*Math.cos(2*Math.PI*e/this.template.halfway_points),r=Math.sqrt(Math.pow(t+this.template.probe.x_offset,2)+Math.pow(a+this.template.probe.y_offset,2))+.1;if(r>this.template.probe_radius/2){let e=this.template.probe_radius/2/r;t*=e,a*=e}this.template.probe.points.push({x:t,y:a,z:0})}this.template.probe.points.push({x:0,y:0,z:0})}else{if(!isNumber(this.template.bed.width)||!isNumber(this.template.bed.length)||!isNumber(this.template.compensation_x_offset)||!isNumber(this.template.compensation_y_offset))return;switch(this.template.probe.points=[],e){case 3:this.template.probe.points.push({x:this.template.compensation_x_offset,y:this.template.compensation_y_offset,z:0}),this.template.probe.points.push({x:this.template.compensation_x_offset,y:this.template.bed.width-this.template.compensation_y_offset,z:0}),this.template.probe.points.push({x:this.template.bed.length-this.template.compensation_x_offset,y:this.template.bed.width/2,z:0});break;case 4:this.template.probe.points.push({x:this.template.compensation_x_offset,y:this.template.compensation_y_offset,z:0}),this.template.probe.points.push({x:this.template.compensation_x_offset,y:this.template.bed.width-this.template.compensation_y_offset,z:0}),this.template.probe.points.push({x:this.template.bed.length-this.template.compensation_x_offset,y:this.template.bed.width-this.template.compensation_y_offset,z:0}),this.template.probe.points.push({x:this.template.bed.length-this.template.compensation_x_offset,y:this.template.compensation_y_offset,z:0});break;case 5:this.template.probe.points.push({x:this.template.compensation_x_offset,y:this.template.compensation_y_offset,z:0}),this.template.probe.points.push({x:this.template.compensation_x_offset,y:this.template.bed.width-this.template.compensation_y_offset,z:0}),this.template.probe.points.push({x:this.template.bed.length-this.template.compensation_x_offset,y:this.template.bed.width-this.template.compensation_y_offset,z:0}),this.template.probe.points.push({x:this.template.bed.length-this.template.compensation_x_offset,y:this.template.compensation_y_offset,z:0}),this.template.probe.points.push({x:this.template.bed.length/2,y:this.template.bed.width/2,z:0});break}}this.template.probe.points.forEach(e=>{e.x=parseFloat(e.x.toFixed(2)),e.y=parseFloat(e.y.toFixed(2))})}},data:()=>Qt,watch:{template:function(e){this.board=Q.getBoard(e.board),"duet06"==e.board&&e.heaters.length>1&&(this.board.seriesResistor=e.heaters[1].series),e.geometry.hasOwnProperty("mins")&&e.geometry.hasOwnProperty("maxes")&&(ta=e.geometry.mins.slice(),aa=e.geometry.maxes.slice()),$.update(e),this.preset=Object.assign({},e)},"template.bed_is_nozzle":function(){this.enforceConstraintsNextTick()},"template.bed":{handler(){this.enforceConstraintsNextTick()},deep:!0},"template.bed.length":function(e,t){this.template.mesh.x_max==t-this.template.compensation_x_offset&&(this.template.mesh.x_max=e-this.template.compensation_x_offset),this.recalculateProbePoints()},"template.bed.width":function(e,t){this.template.mesh.y_max==t-this.template.compensation_x_offset&&(this.template.mesh.y_max=e-this.template.compensation_x_offset),this.recalculateProbePoints()},"template.board":function(e,t){const a=this.board,r=Q.getBoard(e);this.enforceConstraintsNextTick(),a.microstepping==r.microstepping&&a.microsteppingInterpolation==r.microsteppingInterpolation||this.template.drives.forEach(function(e){r.microstepping?e.microstepping_interpolation=16==e.microstepping||e.microstepping_interpolation&&r.microsteppingInterpolation:(e.microstepping=16,e.microstepping_interpolation=!1)}),a.name!=e&&(this.preset.heaters.forEach(function(e){null!=e&&(e.series=r.seriesResistor)}),this.template.heaters.forEach(function(e){null!=e&&e.series==a.seriesResistor&&(e.series=r.seriesResistor)}),this.board=r,console.log("Yo"))},"template.chamber":{handler(){this.enforceConstraintsNextTick()},deep:!0},"template.drives":function(){this.enforceConstraintsNextTick()},"template.firmware":function(){this.enforceConstraintsNextTick()},"template.geometry.type":function(){this.$nextTick(function(){this.enforceConstraints(),this.recalculateProbePoints()})},"template.geometry.mins":function(e){this.template.mesh.x_min==ta[0]+this.template.compensation_x_offset&&(this.template.mesh.x_min=e[0]+this.template.compensation_x_offset),this.template.mesh.y_min==ta[1]+this.template.compensation_y_offset&&(this.template.mesh.y_min=e[1]+this.template.compensation_y_offset),ta=e.slice()},"template.geometry.maxes":function(e){this.template.bed.length==aa[0]&&(this.template.bed.length=e[0]),this.template.bed.width==aa[1]&&(this.template.bed.length=e[1]),aa=e.slice()},"template.geometry.print_radius":function(e,t){this.template.probe_radius==t&&(this.template.probe_radius=e)},"template.halfway_points":function(){this.recalculateProbePoints()},"template.num_nozzles":function(){this.enforceConstraintsNextTick()},"template.peripheral_points":function(){this.recalculateProbePoints()},"template.probe.type":function(){this.enforceConstraintsNextTick()},"template.probe.pwm_channel":function(){this.enforceConstraintsNextTick()},"template.probe_radius":function(e,t){this.template.mesh.radius==t&&(this.template.mesh.radius=e)},"template.tools":{handler(){this.enforceConstraintsNextTick()},deep:!0}}};function sa(e){const t=e.checkValidity();e.classList.toggle("is-valid",t),e.classList.toggle("is-invalid",!t)}let ia=new MutationObserver(function(e){e.forEach(function(e){"attributes"==e.type&&"disabled"==e.attributeName&&(e.target.disabled?(e.target.classList.remove("is-valid"),e.target.classList.remove("is-invalid")):sa(e.target))})});var oa={mounted(){if("b-form-input"==this.$options._componentTag&&null==this.$state){if(!this.$el.disabled){const e=this.$el.checkValidity();this.$el.classList.toggle("is-valid",e),this.$el.classList.toggle("is-invalid",!e)}ia.observe(this.$el,{attributes:!0}),this.$on("input",function(){this.$el.disabled||sa(this.$el)})}}};r["default"].config.productionTip=!1,r["default"].directive("preset",C["a"]),r["default"].mixin(oa),r["default"].use(i.a),window.isNumber=function(e){return void 0!==e&&null!==e&&e.constructor==Number&&!isNaN(e)&&isFinite(e)};new r["default"]({el:"#app",mixins:[ra],render:e=>e(P),router:Jt})},5935:function(module,__webpack_exports__,__webpack_require__){"use strict";var popper_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("f0bd"),bootstrap_vue_src_utils_tooltip_class__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("f264"),bootstrap_vue_src_utils_object__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("0a38"),bootstrap_vue_src_utils_warn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("cc66");const inBrowser="undefined"!==typeof window&&"undefined"!==typeof document,BVTT="__BV_ToolTip__";function getTitle(preset,el,vnode){void 0==preset&&(preset=eval("vnode.context."+vnode.data.model.expression.replace("template","preset")));let unit="",defaultValue;for(let e=0;e<el.parentElement.children.length;e++){const t=el.parentElement.children[e];if(t.classList.contains("input-group-append")){unit=" "+t.textContent;break}}if("SELECT"==el.tagName)for(let e=0;e<el.options.length;e++){const t=el.options[e],a=t.hasOwnProperty("_value")?t._value:t.value;if(a.constructor===Object){let e=!0;for(let t in preset)if(preset[t]!=a[t]){e=!1;break}if(e){defaultValue=t.textContent;break}}else if(a==preset){defaultValue=t.textContent;break}}else if(""==preset&&"INPUT"==el.tagName&&""!=el.placeholder)defaultValue=el.placeholder;else if(el.classList.contains("btn-group-toggle")){for(let e=0;e<el.children.length;e++){const t=el.children[e];if(t.children.length>0){const e=t.children[0];if("INPUT"==e.tagName)if(preset.constructor===Array)preset.forEach(function(a){a.toString()==e.value&&(void 0==defaultValue?defaultValue=t.textContent:defaultValue+=", "+t.textContent)});else if(e.value==preset.toString()){defaultValue=t.textContent;break}}}void 0==defaultValue&&preset.constructor===Array&&(defaultValue="None")}else defaultValue=preset.constructor===Boolean?preset?"Enabled":"Disabled":preset+unit;let range="<br/>";return"INPUT"==el.tagName&&(""!=el.min&&""!=el.max?range+="<br/>Allowed Range: "+el.min+" - "+el.max+unit:""!=el.min?range+="<br/>Minimum Value: "+el.min+unit:""!=el.max&&(range+="<br/>Maximum Value: "+el.max+unit)),el.dataset.originalTitle+range+"<br/>Default Value: "+defaultValue}function parseBindings(e,t,a){let r={html:!0,title:()=>getTitle(e.value,t,a),trigger:"hover"};return Object(bootstrap_vue_src_utils_object__WEBPACK_IMPORTED_MODULE_2__["e"])(e.modifiers).forEach(e=>{if(/^nofade$/.test(e))r.animation=!1;else if(/^(auto|top(left|right)?|bottom(left|right)?|left(top|bottom)?|right(top|bottom)?)$/.test(e))r.placement=e;else if(/^(window|viewport)$/.test(e))r.boundary=e;else if(/^d\d+$/.test(e)){const t=parseInt(e.slice(1),10)||0;t&&(r.delay=t)}else if(/^o-?\d+$/.test(e)){const t=parseInt(e.slice(1),10)||0;t&&(r.offset=t)}}),r}function applyBVTT(e,t,a){inBrowser&&(popper_js__WEBPACK_IMPORTED_MODULE_0__["default"]?e[BVTT]?e[BVTT].updateConfig(parseBindings(t,e,a)):e[BVTT]=new bootstrap_vue_src_utils_tooltip_class__WEBPACK_IMPORTED_MODULE_1__["a"](e,parseBindings(t,e,a),a.context.$root):Object(bootstrap_vue_src_utils_warn__WEBPACK_IMPORTED_MODULE_3__["a"])("v-preset: Popper.js is required for tooltips to work"))}function removeBVTT(e){inBrowser&&e[BVTT]&&(e[BVTT].destroy(),e[BVTT]=null,delete e[BVTT])}__webpack_exports__["a"]={bind(e,t,a){applyBVTT(e,t,a)},inserted(e,t,a){applyBVTT(e,t,a)},update(e,t,a){t.value!==t.oldValue&&applyBVTT(e,t,a)},componentUpdated(e,t,a){t.value!==t.oldValue&&applyBVTT(e,t,a)},unbind(e){removeBVTT(e)}}},"5d62":function(e,t,a){},"64a9":function(e,t,a){},"6d7f":function(e,t,a){},"6df2":function(e,t,a){"use strict";var r=a("914e"),s=a.n(r);s.a},"8f0a":function(e,t,a){},"914e":function(e,t,a){},a84b:function(e,t,a){"use strict";var r=a("d9d0"),s=a.n(r);s.a},c618:function(e,t,a){"use strict";var r=a("4397"),s=a.n(r);s.a},d9d0:function(e,t,a){},dd0f:function(e,t,a){"use strict";var r=a("ec00"),s=a.n(r);s.a},ec00:function(e,t,a){},f780:function(e,t,a){"use strict";var r=a("6d7f"),s=a.n(r);s.a},f9af:function(e,t,a){"use strict";var r=a("8f0a"),s=a.n(r);s.a}});
//# sourceMappingURL=app.23524b1c.js.map